import{_ as d,r as i,o as k,c as h,b as a,w as t,a as n,d as s,e as o}from"./app.c0ce12a9.js";const b={},m=n("h1",{id:"\u6258\u7BA1-heroku",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6258\u7BA1-heroku","aria-hidden":"true"},"#"),s(" \u6258\u7BA1\uFF1AHeroku")],-1),_=n("blockquote",null,[n("p",null,[s("\u6211\u4EEC\u5047\u8BBE\u4F60\u6709\u5173\u4E8E\u5982\u4F55\u4F7F\u7528 grammY \u521B\u5EFA bot \u7684\u57FA\u672C\u77E5\u8BC6\u3002 \u5982\u679C\u4F60\u8FD8\u6CA1\u6709\u51C6\u5907\u597D\uFF0C\u4E0D\u8981\u72B9\u8C6B\uFF0C\u8BF7\u67E5\u770B\u6211\u4EEC\u5341\u5206\u53CB\u597D\u7684 "),n("a",{href:"../guide"},"\u6307\u5357"),s(" \uFF01 \u{1F680}")])],-1),v=s("\u672C\u6559\u7A0B\u5C06\u6307\u5BFC\u4F60\u5982\u4F55\u901A\u8FC7 "),g=s("webhooks"),q=s(" \u6216\u8005 "),f=s("\u957F\u8F6E\u8BE2"),y=s(" \u5C06 Telegram bot \u90E8\u7F72\u5230 "),w={href:"https://heroku.com/",target:"_blank",rel:"noopener noreferrer"},x=s("Heroku"),E=s("\u3002 \u6211\u4EEC\u8FD8\u5047\u8BBE\u4F60\u5DF2\u7ECF\u6709\u4E86\u4E00\u4E2A Heroku \u8D26\u6237\u3002"),T=o(`<h2 id="\u524D\u63D0\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u524D\u63D0\u6761\u4EF6" aria-hidden="true">#</a> \u524D\u63D0\u6761\u4EF6</h2><p>\u9996\u5148\uFF0C\u5B89\u88C5\u4E00\u4E9B\u4F9D\u8D56\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u521B\u5EFA\u9879\u76EE\u76EE\u5F55\u3002</span>
<span class="token function">mkdir</span> grammy-bot
<span class="token builtin class-name">cd</span> grammy-bot
<span class="token function">npm</span> init <span class="token parameter variable">--y</span>

<span class="token comment"># \u5B89\u88C5\u4E3B\u8981\u4F9D\u8D56\u3002</span>
<span class="token function">npm</span> <span class="token function">install</span> grammy express

<span class="token comment"># \u5B89\u88C5\u5F00\u53D1\u4F9D\u8D56\u3002</span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> typescript @types/express @types/node

<span class="token comment"># \u521B\u5EFA TypeScript \u914D\u7F6E\u6587\u4EF6\u3002</span>
npx tsc <span class="token parameter variable">--init</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u5C06 TypeScript \u6587\u4EF6\u653E\u5728 <code>src</code> \u6587\u4EF6\u5939\u4E2D\uFF0C\u7F16\u8BD1\u6587\u4EF6\u653E\u5728 <code>dist</code> \u6587\u4EF6\u5939\u4E2D\u3002 \u5728\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u6587\u4EF6\u5939\u3002 \u7136\u540E\uFF0C\u5728 <code>src</code> \u6587\u4EF6\u5939\u4E2D\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A <code>bot<wbr>.ts</code> \u7684\u65B0\u6587\u4EF6\u3002 \u73B0\u5728\uFF0C\u6211\u4EEC\u7684\u6587\u4EF6\u5939\u76EE\u5F55\u7ED3\u6784\u5E94\u8BE5\u662F\u8FD9\u6837\u7684\uFF1A</p><div class="language-asciiart ext-asciiart"><pre class="language-asciiart"><code>.
\u251C\u2500\u2500 node_modules/
\u251C\u2500\u2500 dist/
\u251C\u2500\u2500 src/
\u2502   \u2514\u2500\u2500 bot.ts
\u251C\u2500\u2500 package.json
\u251C\u2500\u2500 package-lock.json
\u2514\u2500\u2500 tsconfig.json
</code></pre></div><p>\u7136\u540E\uFF0C\u5C06 <code>tsconfig<wbr>.json</code> \u4FEE\u6539\u4E3A\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ESNEXT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u628A commonjs \u6539\u6210 esnext</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ES2021&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56E0\u4E3A\u5728\u4E0A\u9762\u7684\u914D\u7F6E\u4E2D\uFF0C\u6211\u4EEC\u5C06 <code>module</code> \u9009\u9879\u4ECE <code>commonjs</code> \u8BBE\u7F6E\u4E3A\u4E86 <code>esnext</code>\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u5728 <code>package<wbr>.json</code> \u4E2D\u6DFB\u52A0 <code>&quot;type&quot;:<wbr> &quot;module&quot;</code>\u3002 <code>package<wbr>.json</code> \u6587\u4EF6\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;grammy-bot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/app.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6DFB\u52A0 &quot;type&quot;: &quot;module&quot;</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;grammy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@types/express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.13&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.3.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),B=s("\u4E0A\u9762\u6211\u4EEC\u63D0\u5230\u4E86\uFF0C\u6211\u4EEC\u6709\u4E24\u4E2A\u9009\u62E9\u6765\u63A5\u6536 Telegram \u7684\u6570\u636E\uFF0Cwebhooks \u548C\u957F\u8F6E\u8BE2\u3002 \u4F60\u53EF\u4EE5\u5728 "),j=s("\u8FD9\u91CC"),A=s(" \u4E86\u89E3\u66F4\u591A\u5173\u4E8E\u4E24\u8005\u4E4B\u95F4\u7684\u4F18\u7F3A\u70B9\uFF0C\u518D\u51B3\u5B9A\u4F7F\u7528\u54EA\u4E00\u4E2A\u3002"),O=n("h2",{id:"webhooks",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#webhooks","aria-hidden":"true"},"#"),s(" Webhooks")],-1),C=n("blockquote",null,[n("p",null,[s("\u5982\u679C\u4F60\u51B3\u5B9A\u4F7F\u7528\u957F\u8F6E\u8BE2\uFF0C\u4F60\u53EF\u4EE5\u8DF3\u8FC7\u672C\u8282\uFF0C\u8DF3\u8F6C\u5230 "),n("a",{href:"#%E9%95%BF%E8%BD%AE%E8%AF%A2"},"\u5173\u4E8E\u957F\u8F6E\u8BE2\u7684\u7AE0\u8282"),s("\u3002\u{1F680}")])],-1),N=s("\u7B80\u800C\u8A00\u4E4B\uFF0C\u4E0E\u957F\u8F6E\u8BE2\u4E0D\u540C\u7684\u662F\uFF0Cwebhook \u4E0D\u4F1A\u901A\u8FC7\u6301\u7EED\u8FD0\u884C\u6765\u83B7\u53D6 Telegram \u4F20\u5165\u7684\u6D88\u606F\u3002 \u8FD9\u4F1A\u51CF\u5C11\u670D\u52A1\u5668\u8D1F\u8F7D\uFF0C\u5E76\u4E3A\u6211\u4EEC\u8282\u7701\u5927\u91CF\u7684 "),H={href:"https://devcenter.heroku.com/articles/free-dyno-hours",target:"_blank",rel:"noopener noreferrer"},F=s("dyno \u65F6\u95F4"),D=s("\uFF0C\u5C24\u5176\u662F\u5F53\u4F60\u5728\u4F7F\u7528\u514D\u8D39\u8BA1\u5212\u65F6\u3002\u{1F601}"),I=o(`<p>Okay\uFF0C\u8BA9\u6211\u4EEC\u7EE7\u7EED\uFF01 \u8FD8\u8BB0\u5F97\u6211\u4EEC\u4E4B\u524D\u521B\u5EFA\u7684 <code>bot<wbr>.ts</code> \u5417\uFF1F \u6211\u4EEC\u4E0D\u4F1A\u628A\u6240\u6709\u7684\u4EE3\u7801\u90FD\u6254\u5728\u91CC\u9762\uFF0C\u800C\u662F\u628A bot \u7684\u90E8\u5206\u7559\u7ED9\u4F60\u81EA\u5DF1\u3002 \u6240\u4EE5\u6211\u4EEC\u5C06\u4F7F\u7528 <code>app<wbr>.ts</code> \u6765\u4F5C\u4E3A\u6211\u4EEC\u7684\u4E3B\u8981\u5165\u53E3\u3002 \u8FD9\u610F\u5473\u7740\u6BCF\u6B21 Telegram \uFF08\u6216\u8005\u5176\u4ED6\u4EBA\uFF09\u8BBF\u95EE\u6211\u4EEC\u7684\u7F51\u7AD9\u65F6\uFF0C<code>express</code> \u4F1A\u51B3\u5B9A\u4F60\u7684\u670D\u52A1\u5668\u7684\u54EA\u4E2A\u90E8\u5206\u5C06\u8D1F\u8D23\u5904\u7406\u8BF7\u6C42\u3002 \u5F53\u4F60\u5728\u540C\u4E00\u4E2A\u57DF\u540D\u4E0B\u90E8\u7F72\u7F51\u7AD9\u548C\u673A\u5668\u4EBA\u65F6\uFF0C\u8FD9\u4F1A\u5F88\u6709\u7528\u3002 \u6B64\u5916\uFF0C\u901A\u8FC7\u5C06\u4EE3\u7801\u5206\u5272\u5230\u4E0D\u540C\u7684\u6587\u4EF6\uFF0C\u53EF\u4EE5\u8BA9\u6211\u4EEC\u7684\u4EE3\u7801\u770B\u8D77\u6765\u66F4\u6574\u6D01\u3002\u2728</p><h3 id="express-\u548C\u5B83\u7684\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#express-\u548C\u5B83\u7684\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> Express \u548C\u5B83\u7684\u4E2D\u95F4\u4EF6</h3><p>\u5728 <code>src</code> \u6587\u4EF6\u5939\u4E2D\u521B\u5EFA <code>app<wbr>.ts</code>\uFF0C\u5E76\u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&quot;express&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> webhookCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./bot&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> domain <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DOMAIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> secretPath <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>secretPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token function">webhookCallback</span><span class="token punctuation">(</span>bot<span class="token punctuation">,</span> <span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BF7\u786E\u4FDD\u5B83\u662F \`https\` \u800C\u4E0D\u662F \`http\`\uFF01</span>
  <span class="token keyword">await</span> bot<span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">setWebhook</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>secretPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BA9\u6211\u4EEC\u770B\u4E00\u4E0B\u4E0A\u9762\u7684\u4EE3\u7801\uFF1A</p>`,5),P=n("code",null,[s("process"),n("wbr"),s(".env")],-1),W=s("\uFF1A\u8BF7\u8BB0\u4F4F\uFF0C\u5343\u4E07\u4E0D\u8981\u5728\u6211\u4EEC\u7684\u4EE3\u7801\u4E2D\u5B58\u50A8\u51ED\u8BC1\uFF01 \u5173\u4E8E\u5982\u4F55\u5728 Heroku \u4E2D "),G={href:"https://www.freecodecamp.org/news/using-environment-variables-the-right-way/",target:"_blank",rel:"noopener noreferrer"},S=s("\u521B\u5EFA\u73AF\u5883\u53D8\u91CF"),K=s("\uFF0C\u8BF7\u524D\u5F80 "),R={href:"https://devcenter.heroku.com/articles/config-vars",target:"_blank",rel:"noopener noreferrer"},z=s("\u8FD9\u4E2A\u6307\u5357"),L=s("\u3002"),M=n("code",null,[s("secret"),n("wbr"),s("Path")],-1),$=s("\uFF1A\u5B83\u53EF\u4EE5\u662F\u6211\u4EEC\u7684 "),V=n("code",null,[s("BOT"),n("wbr"),s("_TOKEN")],-1),Y=s(" \u6216\u8005\u4EFB\u4F55\u968F\u673A\u5B57\u7B26\u4E32\u3002\u6700\u597D\u7684\u505A\u6CD5\u662F\u6309\u7167 "),J={href:"https://core.telegram.org/bots/api#setwebhook",target:"_blank",rel:"noopener noreferrer"},U=s("Telegram \u7684\u89E3\u91CA"),X=s(" \u6765\u9690\u85CF\u6211\u4EEC\u7684 bot \u7684\u8DEF\u5F84\u3002"),Q={class:"custom-container tip"},Z=o(`<p class="custom-container-title">\u26A1 \u4F18\u5316\uFF08\u53EF\u9009\uFF09</p><p>\u7B2C 14 \u884C\u7684 <code>bot<wbr>.api<wbr>.set<wbr>Webhook</code> \u5C06\u4F1A\u5728\u6BCF\u6B21 Heroku \u518D\u6B21\u542F\u52A8\u4F60\u7684\u670D\u52A1\u5668\u65F6\u8FD0\u884C\u3002 \u5BF9\u4E8E\u4F4E\u6D41\u91CF\u7684 bot\uFF0C\u6BCF\u6B21\u8BF7\u6C42\u90FD\u4F1A\u89E6\u53D1\u3002 \u7136\u800C\uFF0C\u6211\u4EEC\u5E76\u4E0D\u9700\u8981\u5728\u6BCF\u6B21\u6709\u8BF7\u6C42\u65F6\u90FD\u8FD0\u884C\u8FD9\u6BB5\u4EE3\u7801\u3002 \u56E0\u6B64\uFF0C\u6211\u4EEC\u5B8C\u5168\u53EF\u4EE5\u5220\u9664\u8FD9\u4E00\u90E8\u5206\uFF0C\u53EA\u9700\u8981\u624B\u52A8\u6267\u884C\u4E00\u6B21 <code>GET</code>\u3002 \u5728\u90E8\u7F72\u6211\u4EEC\u7684 bot \u4E4B\u540E\uFF0C\u5728\u4F60\u7684\u6D4F\u89C8\u5668\u4E0A\u6253\u5F00\u8FD9\u4E2A\u94FE\u63A5\uFF1A</p><div class="language-asciiart ext-asciiart"><pre class="language-asciiart"><code>https://api.telegram.org/bot&lt;bot_token&gt;/setWebhook?url=&lt;webhook_url&gt;
</code></pre></div>`,3),nn=s("\u8BF7\u6CE8\u610F\uFF0C\u6709\u4E9B\u6D4F\u89C8\u5668\u8981\u6C42\u4F60\u5728\u4F20\u9012 "),sn=n("code",null,[s("webhook"),n("wbr"),s("_url")],-1),an=s(" \u524D\u624B\u52A8 "),tn={href:"https://en.wikipedia.org/wiki/Percent-encoding#Reserved_characters",target:"_blank",rel:"noopener noreferrer"},en=s("\u7F16\u7801"),on=s("\u3002 \u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5982\u679C\u6211\u7684\u6709 bot \u4EE4\u724C "),pn=n("code",null,[s("abcd:"),n("wbr"),s("1234")],-1),cn=s(" \u548C\u7F51\u5740 "),ln=n("code",null,[s("https://"),n("wbr"),s("grammybot"),n("wbr"),s(".herokuapp"),n("wbr"),s(".com"),n("wbr"),s("/secret"),n("wbr"),s("_path")],-1),rn=s("\uFF0C\u90A3\u4E48\u6211\u4EEC\u7684\u94FE\u63A5\u5E94\u8BE5\u50CF\u8FD9\u6837\uFF1A"),un=n("div",{class:"language-asciiart ext-asciiart"},[n("pre",{class:"language-asciiart"},[n("code",null,`https://api.telegram.org/botabcd:1234/setWebhook?url=https%3A%2F%2Fgrammybot.herokuapp.com%2Fsecret_path
`)])],-1),dn={class:"custom-container tip"},kn=n("p",{class:"custom-container-title"},"\u26A1 \u4F18\u5316\uFF08\u53EF\u9009\uFF09",-1),hn=s("\u4F7F\u7528 "),bn=s("Webhook Reply"),mn=s(" \u4EE5\u63D0\u9AD8\u6548\u7387\u3002"),_n=o(`<h3 id="\u521B\u5EFA-bot-ts" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-bot-ts" aria-hidden="true">#</a> \u521B\u5EFA <code>bot<wbr>.ts</code></h3><p>\u4E0B\u4E00\u6B65\uFF0C\u524D\u5F80 <code>bot<wbr>.ts</code>\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&quot;BOT_TOKEN is missing.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;Hello there!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;Got another message!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F88\u597D\uFF01 \u6211\u4EEC\u73B0\u5728\u5B8C\u6210\u4E86\u4E3B\u8981\u90E8\u5206\u7684\u4EE3\u7801\u3002 \u4F46\u5728\u6211\u4EEC\u8FDB\u884C\u90E8\u7F72\u4E4B\u524D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BF9\u6211\u4EEC\u7684 bot \u8FDB\u884C\u4E00\u70B9\u4F18\u5316\u3002 \u548C\u521A\u624D\u4E00\u6837\uFF0C\u8FD9\u662F\u53EF\u9009\u7684\u3002</p>`,4),vn={class:"custom-container tip"},gn=n("p",{class:"custom-container-title"},"\u26A1 \u4F18\u5316\uFF08\u53EF\u9009\uFF09",-1),qn=s("\u6BCF\u6B21\u4F60\u7684\u670D\u52A1\u5668\u542F\u52A8\u65F6\uFF0CgrammY \u4F1A\u5411 Telegram \u8BF7\u6C42 "),fn={href:"https://core.telegram.org/bots/api#getme",target:"_blank",rel:"noopener noreferrer"},yn=s("bot \u7684\u4FE1\u606F"),wn=s("\uFF0C\u4EE5\u4FBF\u5728 "),xn=n("code",null,[s("ctx"),n("wbr"),s(".me")],-1),En=s(" \u4E0B\u7684 "),Tn=s("\u4E0A\u4E0B\u6587\u5BF9\u8C61"),Bn=s(" \u63D0\u4F9B bot \u7684\u4FE1\u606F\u3002 \u6211\u4EEC\u53EF\u4EE5\u8BBE\u7F6E "),jn={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/BotConfig#botInfo",target:"_blank",rel:"noopener noreferrer"},An=s("bot \u7684\u4FE1\u606F"),On=s(" \u4EE5\u9632\u6B62\u8FC7\u591A\u7684 "),Cn=n("code",null,[s("get"),n("wbr"),s("Me")],-1),Nn=s(" \u8C03\u7528\u3002"),Hn=s("\u5728\u4F60\u6700\u559C\u6B22\u7684\u6D4F\u89C8\u5668\u4E2D\u6253\u5F00\u8FD9\u4E2A\u94FE\u63A5 "),Fn=n("code",null,[s("https://"),n("wbr"),s("api"),n("wbr"),s(".telegram"),n("wbr"),s(".org"),n("wbr"),s("/bot<bot"),n("wbr"),s("_token>"),n("wbr"),s("/get"),n("wbr"),s("Me")],-1),Dn=s("\uFF0C\u63A8\u8350\u4F7F\u7528 "),In={href:"https://www.mozilla.org/en-US/firefox/",target:"_blank",rel:"noopener noreferrer"},Pn=s("Firefox"),Wn=s("\uFF0C\u56E0\u4E3A\u5B83\u80FD\u683C\u5F0F\u5316\u663E\u793A "),Gn=n("code",null,"json",-1),Sn=s(" \u6570\u636E\u3002"),Kn=n("li",null,[s("\u6839\u636E "),n("code",null,[s("get"),n("wbr"),s("Me")]),s(" \u7684\u7ED3\u679C\u6765\u4FEE\u6539\u6211\u4EEC\u4E0A\u9762\u7B2C 4 \u884C\u7684\u4EE3\u7801\uFF1A")],-1),Rn=o(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  botInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">111111111</span><span class="token punctuation">,</span>
    is_bot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    first_name<span class="token operator">:</span> <span class="token string">&quot;xxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    username<span class="token operator">:</span> <span class="token string">&quot;xxxxxxbot&quot;</span><span class="token punctuation">,</span>
    can_join_groups<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    can_read_all_group_messages<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    supports_inline_queries<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),zn=n("p",null,[s("\u9177\uFF01\u73B0\u5728\u662F\u65F6\u5019\u51C6\u5907\u6211\u4EEC\u7684\u90E8\u7F72\u73AF\u5883\u4E86\uFF01 \u53EF\u4EE5\u76F4\u63A5\u8DF3\u5230 "),n("a",{href:"#%E9%83%A8%E7%BD%B2"},"\u90E8\u7F72\u90E8\u5206"),s(" \uFF01\u{1F4AA}")],-1),Ln=n("h2",{id:"\u957F\u8F6E\u8BE2",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u957F\u8F6E\u8BE2","aria-hidden":"true"},"#"),s(" \u957F\u8F6E\u8BE2")],-1),Mn={class:"custom-container warning"},$n=n("p",{class:"custom-container-title"},"\u5728\u4F7F\u7528\u957F\u8F6E\u8BE2\u65F6\uFF0C\u4F60\u7684\u811A\u672C\u4F1A\u6301\u7EED\u8FD0\u884C\u3002",-1),Vn=s("\u9664\u975E\u4F60\u77E5\u9053\u5982\u4F55\u5904\u7406\u8FD9\u79CD\u884C\u4E3A\uFF0C\u5426\u5219\u786E\u4FDD\u4F60\u6709\u8DB3\u591F\u7684 "),Yn={href:"https://devcenter.heroku.com/articles/free-dyno-hours",target:"_blank",rel:"noopener noreferrer"},Jn=s("dyno \u65F6\u95F4"),Un=s("\u3002"),Xn=o(`<blockquote><p>\u8003\u8651\u4F7F\u7528 webhooks \u5417\uFF1F \u8DF3\u8F6C\u5230 <a href="#webhooks">webhooks \u7AE0\u8282</a>\u3002\u{1F680}</p></blockquote><p>\u5728\u4F60\u7684\u670D\u52A1\u5668\u4E0A\u4F7F\u7528\u957F\u8F6E\u8BE2\u5E76\u4E0D\u603B\u662F\u4E00\u4E2A\u574F\u4E3B\u610F\u3002 \u6709\u4E9B\u65F6\u5019\u5B83\u9002\u7528\u4E8E\u4E0D\u9700\u8981\u5FEB\u901F\u54CD\u5E94\u548C\u5904\u7406\u5927\u91CF\u6570\u636E\u7684\u6570\u636E\u6536\u96C6 bot\u3002 \u4F60\u53EF\u4EE5\u901A\u8FC7\u957F\u8F6E\u8BE2\u7684\u65B9\u5F0F\u6765\u6BCF\u4E2A\u5C0F\u65F6\u8FD0\u884C\u4E00\u6B21\u6765\u83B7\u53D6\u6D88\u606F\u3002 \u8FD9\u662F\u4F60\u6CA1\u529E\u6CD5\u7528 webhook \u63A7\u5236\u7684\u3002 \u5982\u679C\u4F60\u7684 bot \u6536\u5230\u5927\u91CF\u7684\u6D88\u606F\uFF0C\u4F60\u4F1A\u770B\u5230\u5927\u91CF\u7684 webhook \u8BF7\u6C42\uFF0C\u4F46\u662F\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F\u957F\u8F6E\u8BE2\uFF0C\u4F60\u53EF\u4EE5\u9650\u5236\u66F4\u65B0\u901F\u5EA6\u518D\u5904\u7406\u5B83\u4EEC\u3002</p><h3 id="\u521B\u5EFA-bot-ts-1" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-bot-ts-1" aria-hidden="true">#</a> \u521B\u5EFA <code>bot<wbr>.ts</code></h3><p>\u8BA9\u6211\u4EEC\u6253\u5F00\u6211\u4EEC\u4E4B\u524D\u521B\u5EFA\u7684 <code>bot<wbr>.ts</code> \u6587\u4EF6\u3002 \u6DFB\u52A0\u5982\u4E0B\u51E0\u884C\u4EE3\u7801\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;BOT_TOKEN is missing.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BOT_TOKEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span>
  <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;I&#39;m running on Heroku using long polling!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),Qn=s("\u5C31\u662F\u8FD9\u6837\uFF01 \u6211\u4EEC\u5DF2\u7ECF\u51C6\u5907\u597D\u53BB\u90E8\u7F72\u5B83\u4E86\u3002 \u770B\u8D77\u6765\u662F\u4E0D\u662F\u975E\u5E38\u7B80\u5355\uFF1F\u{1F603} \u5982\u679C\u4F60\u89C9\u5F97\u8FD9\u592A\u7B80\u5355\u4E86\uFF0C\u53EF\u4EE5\u67E5\u770B\u6211\u4EEC\u7684 "),Zn=s("\u90E8\u7F72\u6E05\u5355"),ns=s("\uFF01\u{1F680}"),ss=o(`<h2 id="\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72" aria-hidden="true">#</a> \u90E8\u7F72</h2><p>\u7B49\u4E00\u4E0B\u2026\u6211\u4EEC\u7684 <em>Rocket Bot</em> \u8FD8\u6CA1\u6709\u51C6\u5907\u597D\u53D1\u5C04\u3002 \u8BF7\u5148\u5B8C\u6210\u4E0B\u9762\u8FD9\u4E9B\u6B65\u9AA4\uFF01</p><h3 id="\u7F16\u8BD1\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u8BD1\u6587\u4EF6" aria-hidden="true">#</a> \u7F16\u8BD1\u6587\u4EF6</h3><p>\u5728\u4F60\u7684\u7EC8\u7AEF\u4E2D\u8FD0\u884C\u8FD9\u6BB5\u547D\u4EE4\uFF0C\u5C06 TypeScript \u6587\u4EF6\u7F16\u8BD1\u4E3A JavaScript \u6587\u4EF6\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx tsc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u8FD0\u884C\u6210\u529F\u4E14\u6CA1\u6709\u4EFB\u4F55\u62A5\u9519\uFF0C\u6211\u4EEC\u7684\u7F16\u8BD1\u6587\u4EF6\u5E94\u8BE5\u5728 <code>dist</code> \u6587\u4EF6\u5939\u4E2D\uFF0C\u6269\u5C55\u540D\u4E3A <code>.js</code>\u3002</p><h3 id="\u8BBE\u7F6E-procfile" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E-procfile" aria-hidden="true">#</a> \u8BBE\u7F6E <code>Procfile</code></h3>`,7),as=s("\u76EE\u524D "),ts=n("code",null,"Heroku",-1),es=s(" \u6709\u597D\u51E0\u79CD "),os={href:"https://devcenter.heroku.com/articles/free-dyno-hours",target:"_blank",rel:"noopener noreferrer"},ps=s("dynos \u7C7B\u578B"),cs=s("\u3002 \u5176\u4E2D\u4E24\u4E2A\u662F\uFF1A"),is=o(`<ul><li><p><strong>Web dynos</strong>: <br> <em>Web dynos</em> \u662F\u63A5\u6536\u6765\u81EA\u8DEF\u7531\u5668\u7684 HTTP \u6D41\u91CF\u7684 \u201Cweb\u201D \u8FDB\u7A0B\u3002 \u8FD9\u79CD\u7C7B\u578B\u7684 dyno \u5728\u6267\u884C\u4EE3\u7801\u65F6\u6709 30 \u79D2\u7684\u8D85\u65F6\u9650\u5236\u3002 \u53E6\u5916\uFF0C\u5982\u679C\u5728 30 \u5206\u949F\u5185\u6CA1\u6709\u9700\u8981\u5904\u7406\u7684\u8BF7\u6C42\uFF0C\u5B83\u5C31\u4F1A\u4F11\u7720\u3002 \u8FD9\u79CD\u7C7B\u578B\u7684 dyno \u975E\u5E38\u9002\u5408 <em>webhooks</em>\u3002</p></li><li><p><strong>Worker dynos</strong>: <br> <em>Worker dynos</em> \u901A\u5E38\u7528\u4E8E\u540E\u53F0\u5DE5\u4F5C\u3002 \u5B83\u6CA1\u6709\u8D85\u65F6\u9650\u5236\uFF0C\u800C\u4E14\u5982\u679C\u5B83\u4E0D\u5904\u7406\u4EFB\u4F55\u8BF7\u6C42\uFF0C\u5B83\u4E5F\u4E0D\u4F1A\u4F11\u7720\u3002 \u5B83\u9002\u5408 <em>\u957F\u8F6E\u8BE2</em>\u3002</p></li></ul><p>\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u6CA1\u6709\u6269\u5C55\u540D\u7684 <code>Procfile</code> \u6587\u4EF6\u3002 \u4E5F\u5C31\u662F\u8BF4\uFF0C<code>Procfile<wbr>.txt</code> \u548C <code>procfile</code> \u662F\u65E0\u6548\u7684\u3002 \u7136\u540E\u4EE5\u4E0B\u9762\u8FD9\u4E2A\u683C\u5F0F\u5199\u5165\u5355\u884C\u4EE3\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;dynos type&gt;: &lt;command for executing our main entry file&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5BF9\u4E8E\u6211\u4EEC\u7684\u60C5\u51B5\u6765\u8BF4\uFF0C\u5E94\u8BE5\u662F\u8FD9\u6837\uFF1A</p>`,4),ls=n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,`web: node dist/app.js
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),rs=n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,`worker: node dist/bot.js
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),us=n("h3",{id:"\u8BBE\u7F6E-git",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8BBE\u7F6E-git","aria-hidden":"true"},"#"),s(" \u8BBE\u7F6E Git")],-1),ds=s("\u6211\u4EEC\u5C06\u4F7F\u7528 "),ks={href:"https://devcenter.heroku.com/articles/git",target:"_blank",rel:"noopener noreferrer"},hs=s("Git \u548C Heroku Cli"),bs=s(" \u6765\u90E8\u7F72\u6211\u4EEC\u7684 bot\u3002 \u8FD9\u91CC\u662F\u5B89\u88C5\u7684\u94FE\u63A5\uFF1A"),ms={href:"https://git-scm.com/download/",target:"_blank",rel:"noopener noreferrer"},_s=s("Git \u5B89\u88C5\u8BF4\u660E"),vs={href:"https://devcenter.heroku.com/articles/heroku-cli#download-and-install",target:"_blank",rel:"noopener noreferrer"},gs=s("Heroku CLI \u5B89\u88C5\u8BF4\u660E"),qs=o(`<p>\u5047\u8BBE\u4F60\u5DF2\u7ECF\u5728\u4F60\u7684\u673A\u5668\u91CC\u5B89\u88C5\u4E86\u5B83\u4EEC\uFF0C\u5E76\u4E14\u4F60\u5728\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E0B\u6253\u5F00\u4E86\u4E00\u4E2A\u7EC8\u7AEF\u3002 \u73B0\u5728\u5728\u7EC8\u7AEF\u4E2D\u8FD0\u884C\u8FD9\u6BB5\u4EE3\u7801\u6765\u521D\u59CB\u5316\u672C\u5730 git \u4ED3\u5E93\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u9700\u8981\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u6587\u4EF6\u4E0A\u4F20\u5230\u6211\u4EEC\u7684\u751F\u4EA7\u670D\u52A1\u5668\uFF08\u5728\u8FD9\u7BC7\u6559\u7A0B\u91CC\u751F\u4EA7\u670D\u52A1\u5668\u6307\u7684\u662F <code>Heroku</code>\uFF09\u3002 \u5728\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A <code>.gitignore</code> \u7684\u6587\u4EF6\u3002 \u7136\u540E\u6DFB\u52A0\u4E0B\u5217\u5185\u5BB9\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>node_modules/
src/
tsconfig.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6700\u7EC8\uFF0C\u6211\u4EEC\u7684\u6587\u4EF6\u5939\u7ED3\u6784\u770B\u8D77\u6765\u5E94\u8BE5\u662F\u8FD9\u6837\u7684\uFF1A</p>`,5),fs=n("div",{class:"language-asciiart ext-asciiart"},[n("pre",{class:"language-asciiart"},[n("code",null,`.
\u251C\u2500\u2500 .git/
\u251C\u2500\u2500 node_modules/
\u251C\u2500\u2500 dist/
\u2502   \u251C\u2500\u2500 bot.js
\u2502   \u2514\u2500\u2500 app.js
\u251C\u2500\u2500 src/
\u2502   \u251C\u2500\u2500 bot.ts
\u2502   \u2514\u2500\u2500 app.ts
\u251C\u2500\u2500 package.json
\u251C\u2500\u2500 package-lock.json
\u251C\u2500\u2500 tsconfig.json
\u251C\u2500\u2500 Procfile
\u2514\u2500\u2500 .gitignore
`)])],-1),ys=n("div",{class:"language-asciiart ext-asciiart"},[n("pre",{class:"language-asciiart"},[n("code",null,`.
\u251C\u2500\u2500 .git/
\u251C\u2500\u2500 node_modules/
\u251C\u2500\u2500 dist/
\u2502   \u2514\u2500\u2500 bot.js
\u251C\u2500\u2500 src/
\u2502   \u2514\u2500\u2500 bot.ts
\u251C\u2500\u2500 package.json
\u251C\u2500\u2500 package-lock.json
\u251C\u2500\u2500 tsconfig.json
\u251C\u2500\u2500 Procfile
\u2514\u2500\u2500 .gitignore
`)])],-1),ws=o(`<p>\u5C06\u6587\u4EF6\u63D0\u4EA4\u5230\u6211\u4EEC\u7684 git \u4ED3\u5E93\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;My first commit&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8BBE\u7F6E-heroku-remote" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E-heroku-remote" aria-hidden="true">#</a> \u8BBE\u7F6E Heroku Remote</h3>`,3),xs=s("\u5982\u679C\u4F60\u5DF2\u7ECF\u521B\u5EFA\u4E86 "),Es={href:"https://dashboard.heroku.com/apps/",target:"_blank",rel:"noopener noreferrer"},Ts=s("Heroku \u5E94\u7528"),Bs=s("\uFF0C\u5728\u4E0B\u9762\u7684 "),js=n("code",null,[s("<my"),n("wbr"),s("App>")],-1),As=s(" \u4E2D\u4F20\u5165\u4F60\u7684 "),Os=n("code",null,"\u5DF2\u5B58\u5728\u5E94\u7528",-1),Cs=s(" \u7684\u540D\u79F0\uFF0C\u7136\u540E\u8FD0\u884C\u4EE3\u7801\u3002 \u5426\u5219\uFF0C\u8BF7\u8FD0\u884C "),Ns=n("code",null,"\u65B0\u5E94\u7528",-1),Hs=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[s(`heroku create
`),n("span",{class:"token function"},"git"),s(" remote "),n("span",{class:"token parameter variable"},"-v"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Fs=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[s("heroku git:remote "),n("span",{class:"token parameter variable"},"-a"),s(),n("span",{class:"token operator"},"<"),s("myApp"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),Ds=o(`<h3 id="\u90E8\u7F72\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72\u4EE3\u7801" aria-hidden="true">#</a> \u90E8\u7F72\u4EE3\u7801</h3><p>\u6700\u540E\uFF0C\u6309\u4E0B <em>\u7EA2\u8272\u6309\u94AE</em>\uFF0C\u5347\u7A7A\uFF01\u{1F680}</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> push heroku main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u5931\u8D25\u4E86\uFF0C\u53EF\u80FD\u6211\u4EEC\u7684 git \u5206\u652F\u662F <code>master</code> \u800C\u4E0D\u662F <code>main</code>\u3002 \u8BF7\u6309\u4E0B\u8FD9\u4E2A <em>\u84DD\u8272\u6309\u94AE</em>\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> push heroku master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,5);function Is(Ps,Ws){const r=i("Tag"),u=i("TagGroup"),p=i("RouterLink"),e=i("ExternalLinkIcon"),c=i("CodeGroupItem"),l=i("CodeGroup");return k(),h("div",null,[m,a(u,null,{default:t(()=>[a(r,{type:"deno"}),a(r,{type:"nodejs"})]),_:1}),_,n("p",null,[v,a(p,{to:"/zh/guide/deployment-types.html#webhooks-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84"},{default:t(()=>[g]),_:1}),q,a(p,{to:"/zh/guide/deployment-types.html#%E9%95%BF%E8%BD%AE%E8%AF%A2%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84"},{default:t(()=>[f]),_:1}),y,n("a",w,[x,a(e)]),E]),T,n("p",null,[B,a(p,{to:"/zh/guide/deployment-types.html"},{default:t(()=>[j]),_:1}),A]),O,C,n("p",null,[N,n("a",H,[F,a(e)]),D]),I,n("ul",null,[n("li",null,[P,W,n("a",G,[S,a(e)]),K,n("a",R,[z,a(e)]),L]),n("li",null,[M,$,V,Y,n("a",J,[U,a(e)]),X])]),n("div",Q,[Z,n("p",null,[nn,sn,an,n("a",tn,[en,a(e)]),on,pn,cn,ln,rn]),un]),n("div",dn,[kn,n("p",null,[hn,a(p,{to:"/zh/guide/deployment-types.html#webhook-reply"},{default:t(()=>[bn]),_:1}),mn])]),_n,n("div",vn,[gn,n("p",null,[qn,n("a",fn,[yn,a(e)]),wn,xn,En,a(p,{to:"/zh/guide/context.html"},{default:t(()=>[Tn]),_:1}),Bn,n("a",jn,[An,a(e)]),On,Cn,Nn]),n("ol",null,[n("li",null,[Hn,Fn,Dn,n("a",In,[Pn,a(e)]),Wn,Gn,Sn]),Kn]),Rn]),zn,Ln,n("div",Mn,[$n,n("p",null,[Vn,n("a",Yn,[Jn,a(e)]),Un])]),Xn,n("p",null,[Qn,a(p,{to:"/zh/advanced/deployment.html#%E9%95%BF%E8%BD%AE%E8%AF%A2"},{default:t(()=>[Zn]),_:1}),ns]),ss,n("p",null,[as,ts,es,n("a",os,[ps,a(e)]),cs]),is,a(l,null,{default:t(()=>[a(c,{title:"Webhook",active:""},{default:t(()=>[ls]),_:1}),a(c,{title:"\u957F\u8F6E\u8BE2"},{default:t(()=>[rs]),_:1})]),_:1}),us,n("p",null,[ds,n("a",ks,[hs,a(e)]),bs]),n("ul",null,[n("li",null,[n("a",ms,[_s,a(e)])]),n("li",null,[n("a",vs,[gs,a(e)])])]),qs,a(l,null,{default:t(()=>[a(c,{title:"Webhook",active:""},{default:t(()=>[fs]),_:1}),a(c,{title:"\u957F\u8F6E\u8BE2"},{default:t(()=>[ys]),_:1})]),_:1}),ws,n("p",null,[xs,n("a",Es,[Ts,a(e)]),Bs,js,As,Os,Cs,Ns]),a(l,null,{default:t(()=>[a(c,{title:"\u65B0\u5E94\u7528",active:""},{default:t(()=>[Hs]),_:1}),a(c,{title:"\u5DF2\u5B58\u5728\u5E94\u7528",active:""},{default:t(()=>[Fs]),_:1})]),_:1}),Ds])}const Ss=d(b,[["render",Is],["__file","heroku.html.vue"]]);export{Ss as default};
