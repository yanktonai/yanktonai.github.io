import{_ as d,r as l,o as k,c as m,b as a,w as e,a as n,d as s,e as c}from"./app.1137d7ac.js";const b={},g=n("h1",{id:"internacionalizacion-i18n",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#internacionalizacion-i18n","aria-hidden":"true"},"#"),s(" Internacionalizaci\xF3n ("),n("code",null,"i18n"),s(")")],-1),v=n("p",null,"El plugin de internacionalizaci\xF3n hace que tu bot hable varios idiomas.",-1),h={class:"custom-container tip"},f=n("p",{class:"custom-container-title"},"No se debe confundir",-1),y=s("No confundas esto con "),_=s("fluent"),w=s("."),x=s("Este plugin es una versi\xF3n mejorada de "),q=s("fluent"),z=s(" que funciona tanto en Deno como en Node.js."),j=c('<h2 id="la-internacionalizacion-explicada" tabindex="-1"><a class="header-anchor" href="#la-internacionalizacion-explicada" aria-hidden="true">#</a> La internacionalizaci\xF3n explicada</h2><blockquote><p>Esta secci\xF3n explica qu\xE9 es la internacionalizaci\xF3n, por qu\xE9 es necesaria, qu\xE9 es lo complicado, c\xF3mo se relaciona con la localizaci\xF3n, y por qu\xE9 necesitas un plugin para todo esto. Si ya sabes estas cosas, despl\xE1zate a la derecha hasta <a href="#como-empezar">C\xF3mo empezar</a>.</p></blockquote><p>Primero, internacionalizaci\xF3n es una palabra muy larga. Por eso, a la gente le gusta escribir la primera letra (i) y la \xFAltima (n). A continuaci\xF3n, cuentan todas las letras restantes (nternationalizatio, 18 letras) y ponen este n\xFAmero entre la i y la n, por lo que terminan con <em>i18n</em>. No nos preguntes por qu\xE9. As\xED que i18n no es m\xE1s que una extra\xF1a abreviatura de la palabra internacionalizaci\xF3n.</p><p>Lo mismo se hace con localizaci\xF3n, que se convierte en <em>l10n</em>.</p><h3 id="\xBFque-es-la-localizacion" tabindex="-1"><a class="header-anchor" href="#\xBFque-es-la-localizacion" aria-hidden="true">#</a> \xBFQu\xE9 es la localizaci\xF3n?</h3><p>La localizaci\xF3n significa crear un bot que pueda hablar varios idiomas. Debe ajustar autom\xE1ticamente su idioma al del usuario.</p><p>Hay m\xE1s cosas que localizar que el idioma. Tambi\xE9n puedes tener en cuenta las diferencias culturales u otros est\xE1ndares, como los formatos de fecha y hora. Aqu\xED hay algunos ejemplos m\xE1s de cosas que se representan de manera diferente en todo el mundo:</p><ol><li>Fechas</li><li>Horas</li><li>N\xFAmeros</li><li>Unidades</li><li>Pluralizaci\xF3n</li><li>G\xE9neros</li><li>Gui\xF3n</li><li>May\xFAsculas</li><li>Alineaci\xF3n</li><li>S\xEDmbolos e iconos</li><li>Clasificaci\xF3n</li></ol>',8),C=s("\u2026 y "),S={href:"https://youtu.be/0j74jcxSunY",target:"_blank",rel:"noopener noreferrer"},I=s("mucho m\xE1s"),L=s("."),E=s("Todas estas cosas definen colectivamente la "),P=n("em",null,"localidad",-1),F=s(" de un usuario. Las localidades suelen tener c\xF3digos de dos letras, como "),T=n("code",null,"en",-1),N=s(" para el ingl\xE9s, "),B=n("code",null,"de",-1),D=s(" para el alem\xE1n, etc. Si quieres encontrar el c\xF3digo de tu localidad, consulta "),A={href:"https://en.wikipedia.org/wiki/IETF_language_tag#List_of_common_primary_language_subtags",target:"_blank",rel:"noopener noreferrer"},M=s("esta lista"),R=s("."),H=c('<h3 id="\xBFque-es-la-internacionalizacion" tabindex="-1"><a class="header-anchor" href="#\xBFque-es-la-internacionalizacion" aria-hidden="true">#</a> \xBFQu\xE9 es la internacionalizaci\xF3n?</h3><p>En pocas palabras, la internacionalizaci\xF3n significa escribir c\xF3digo que pueda ajustarse a la configuraci\xF3n regional del usuario. En otras palabras, la internacionalizaci\xF3n es lo que permite la localizaci\xF3n (ver <a href="#%C2%BFque-es-la-localizacion">arriba</a>. Esto significa que mientras tu bot funciona fundamentalmente de la misma manera para todo el mundo, los mensajes exactos que env\xEDa var\xEDan de un usuario a otro, por lo que el bot puede hablar diferentes idiomas.</p><p>Est\xE1s haciendo internacionalizaci\xF3n si no codificas los textos que env\xEDa tu bot, sino que los lees de un archivo din\xE1micamente. Est\xE1s haciendo internacionalizaci\xF3n si no codificas la forma en que se representan las fechas y las horas, y en su lugar utilizas una biblioteca que ajusta estos valores de acuerdo con diferentes est\xE1ndares.</p><p>Ya entiendes la idea: No codifiques cosas que deber\xEDan cambiar seg\xFAn el lugar donde vive el usuario o el idioma que habla.</p><h3 id="\xBFpor-que-necesita-este-plugin" tabindex="-1"><a class="header-anchor" href="#\xBFpor-que-necesita-este-plugin" aria-hidden="true">#</a> \xBFPor qu\xE9 necesita este plugin?</h3>',5),G=s("Este plugin puede ayudarle en su proceso de internacionalizaci\xF3n. Est\xE1 basado en "),Y={href:"https://projectfluent.org/",target:"_blank",rel:"noopener noreferrer"},J=s("Fluent"),U=s("-un sistema de localizaci\xF3n construido por "),V={href:"https://mozilla.org/",target:"_blank",rel:"noopener noreferrer"},Q=s("Mozilla"),$=s(". Este sistema tiene una sintaxis muy potente y elegante que te permite escribir traducciones que suenen naturales de una manera eficiente."),O=c(`<p>En esencia, puedes extraer las cosas que deben ajustarse en funci\xF3n de la configuraci\xF3n regional del usuario a unos archivos de texto que pones junto a tu c\xF3digo. Luego puedes usar este plugin para cargar estas localizaciones. El plugin determinar\xE1 autom\xE1ticamente la configuraci\xF3n regional del usuario y dejar\xE1 que tu bot elija el idioma correcto para hablar.</p><p>A continuaci\xF3n, llamaremos a estos archivos de texto, <em>archivos de traducci\xF3n</em>. Normalmente se almacenan en la estructura de su bot como archivos yaml (pero este plugin soporta otras formas de manejarlos). Se requiere que sigan la sintaxis de Fluent.</p><h2 id="como-empezar" tabindex="-1"><a class="header-anchor" href="#como-empezar" aria-hidden="true">#</a> C\xF3mo empezar</h2><blockquote><p>Esta secci\xF3n describe la configuraci\xF3n de la estructura del proyecto y d\xF3nde colocar los archivos de traducci\xF3n. Si est\xE1s familiarizado con esto, <a href="#uso">salta hacia adelante</a> para ver c\xF3mo instalar y usar el plugin. Hay <a href="#anadir-traducciones">m\xFAltiples maneras</a> de a\xF1adir m\xE1s idiomas a tu bot. La forma m\xE1s f\xE1cil es crear una carpeta con tus archivos de traducci\xF3n de Fluent. Normalmente, el nombre de esa carpeta ser\xE1 <code>locales<wbr>/</code>. Los archivos de traducci\xF3n deben tener la extensi\xF3n <code>.ftl</code> (fluent).</p></blockquote><p>Este es un ejemplo de la estructura del proyecto:</p><div class="language-asciiart ext-asciiart"><pre class="language-asciiart"><code>.
\u251C\u2500\u2500 bot.ts
\u2514\u2500\u2500 locales/
    \u251C\u2500\u2500 de.ftl
    \u251C\u2500\u2500 es.ftl
    \u251C\u2500\u2500 it.ftl
    \u2514\u2500\u2500 ru.ftl
</code></pre></div>`,6),K=s("Si no est\xE1s familiarizado con la sintaxis de Fluent, puedes leer su gu\xEDa: "),W={href:"https://projectfluent.org/fluent/guide",target:"_blank",rel:"noopener noreferrer"},X=s("https://"),Z=n("wbr",null,null,-1),nn=s("projectfluent"),sn=n("wbr",null,null,-1),an=s(".org"),en=n("wbr",null,null,-1),tn=s("/fluent"),on=n("wbr",null,null,-1),cn=s("/guide"),ln=c(`<p>Aqu\xED hay un archivo de traducci\xF3n de ejemplo para el ingl\xE9s, llamado <code>locales<wbr>/en<wbr>.ftl</code>:</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hi, how can I /help you?
help =
    Send me some text, and I can make it bold for you.
    You can change my language using the /language command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>El equivalente en alem\xE1n se llamar\xEDa <code>locales<wbr>/de<wbr>.ftl</code> y tendr\xEDa el siguiente aspecto</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hallo, wie kann ich dir helfen? /help
help =
    Schick eine Textnachricht, die ich f\xFCr dich fett schreiben soll.
    Du kannst mit dem Befehl /language die Spache \xE4ndern.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En tu bot, ahora puedes usar estas traducciones a trav\xE9s del plugin. Estar\xE1n disponibles a trav\xE9s de <code>ctx<wbr>.t</code>:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span>c<span class="token punctuation">;</span>
<span class="token function">ommand</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cada vez que se llama a <code>ctx<wbr>.t</code>, se utiliza la configuraci\xF3n regional del objeto de contexto actual <code>ctx</code> para encontrar la traducci\xF3n adecuada. La b\xFAsqueda de la traducci\xF3n adecuada se realiza mediante un <em>negociador de configuraci\xF3n regional</em>. En el caso m\xE1s sencillo, s\xF3lo devuelve <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>.</p><p>Como resultado, los usuarios con diferentes locales podr\xE1n leer los mensajes, cada uno en su idioma.</p><h2 id="uso" tabindex="-1"><a class="header-anchor" href="#uso" aria-hidden="true">#</a> Uso</h2><p>El plugin obtiene la configuraci\xF3n regional del usuario a partir de muchos factores diferentes. Uno de ellos es de <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>, que ser\xE1 proporcionado por el cliente del usuario.</p>`,10),pn=s("Sin embargo, hay muchas m\xE1s cosas que se pueden utilizar para determinar la configuraci\xF3n regional del usuario. Por ejemplo, se puede almacenar la configuraci\xF3n regional del usuario en su "),un=s("sesi\xF3n"),rn=s(". Por lo tanto, hay dos formas principales de utilizar este plugin: "),dn=n("a",{href:"#con-sesiones"},"Con sesiones",-1),kn=s(" y "),mn=n("a",{href:"#sin-sesiones"},"Sin sesiones",-1),bn=s("."),gn=c('<h3 id="sin-sesiones" tabindex="-1"><a class="header-anchor" href="#sin-sesiones" aria-hidden="true">#</a> Sin sesiones</h3><p>Es m\xE1s f\xE1cil utilizar y configurar el plugin sin sesiones. Su principal inconveniente es que no se pueden almacenar los idiomas que eligen los usuarios.</p><p>Como se mencion\xF3 anteriormente, la configuraci\xF3n regional que se utilizar\xE1 para el usuario se decidir\xE1 con <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>, que proviene del cliente del usuario. Pero se utilizar\xE1 el idioma por defecto si no tienes una traducci\xF3n de ese idioma.</p><p>A veces, tu bot puede no ser capaz de ver el idioma preferido del usuario proporcionado por su cliente, y en ese caso se utilizar\xE1 tambi\xE9n el idioma por defecto.</p><p><strong>El <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> ser\xE1 visible s\xF3lo si el usuario ha iniciado previamente una conversaci\xF3n privada con tu bot.</strong></p>',5),vn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Para soporte de TypeScript y autocompletado,"),s(`
`),n("span",{class:"token comment"},"// extiende el contexto con el flavor de I18n:"),s(`
`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Crea un bot como lo har\xEDas normalmente."),s(`
`),n("span",{class:"token comment"},"// Recuerda extender el contexto."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- pon tu token de bot aqu\xED (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Crea una instancia `I18n`."),s(`
`),n("span",{class:"token comment"},"// Sigue leyendo para saber c\xF3mo configurar la instancia."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// ver m\xE1s abajo para m\xE1s informaci\xF3n"),s(`

  `),n("span",{class:"token comment"},"// Cargar todos los archivos de traducci\xF3n de locales/."),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finalmente, registra la instancia i18n en el bot,"),s(`
`),n("span",{class:"token comment"},"// \xA1para que los mensajes se traduzcan en su camino!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Ya est\xE1 todo configurado."),s(`
`),n("span",{class:"token comment"},"// Puedes acceder a las traducciones con `t` o `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),hn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Crea un bot como lo har\xEDas normalmente."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Bot"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- pon tu token de bot aqu\xED (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Crea una instancia `I18n`."),s(`
`),n("span",{class:"token comment"},"// Sigue leyendo para saber c\xF3mo configurar la instancia."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"defaultLocale"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// ver m\xE1s abajo para m\xE1s informaci\xF3n"),s(`

  `),n("span",{class:"token comment"},"// Cargar todos los archivos de traducci\xF3n de locales/."),s(`
  `),n("span",{class:"token literal-property property"},"directory"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finalmente, registra la instancia i18n en el bot,"),s(`
`),n("span",{class:"token comment"},"// \xA1para que los mensajes se traduzcan en su camino!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Ya est\xE1 todo configurado."),s(`
`),n("span",{class:"token comment"},"// Puedes acceder a las traducciones con `t` o `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),fn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy@v1.11.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Para soporte de TypeScript y autocompletado,"),s(`
`),n("span",{class:"token comment"},"// extiende el contexto con el flavor de I18n:"),s(`
`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Crea un bot como lo har\xEDas normalmente."),s(`
`),n("span",{class:"token comment"},"// Recuerda extender el contexto."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- pon tu token de bot aqu\xED (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Crea una instancia `I18n`."),s(`
`),n("span",{class:"token comment"},"// Sigue leyendo para saber c\xF3mo configurar la instancia."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// ver m\xE1s abajo para m\xE1s informaci\xF3n"),s(`

  `),n("span",{class:"token comment"},"// Cargar todos los archivos de traducci\xF3n de locales/."),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finalmente, registra la instancia i18n en el bot,"),s(`
`),n("span",{class:"token comment"},"// \xA1para que los mensajes se traduzcan en su camino!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Ya est\xE1 todo configurado."),s(`
`),n("span",{class:"token comment"},"// Puedes acceder a las traducciones con `t` o `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),yn=n("p",null,[n("code",null,[s("ctx"),n("wbr"),s(".t")]),s(" devuelve el mensaje traducido para la clave especificada. No tienes que preocuparte por los idiomas, ya que ser\xE1n elegidos autom\xE1ticamente por el plugin.")],-1),_n=n("p",null,"\xA1Enhorabuena! \xA1Tu bot ahora habla varios idiomas! \u{1F30D} \u{1F389}",-1),wn=n("h3",{id:"con-sesiones",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#con-sesiones","aria-hidden":"true"},"#"),s(" Con Sesiones")],-1),xn=s("Supongamos que tu bot tiene un comando "),qn=n("code",null,"/language",-1),zn=s(". Generalmente, en grammY podemos utilizar "),jn=s("sessions"),Cn=s(" para almacenar los datos del usuario por chat. Para que tu instancia de internacionalizaci\xF3n sepa que las sesiones est\xE1n habilitadas, tienes que establecer "),Sn=n("code",null,[s("use"),n("wbr"),s("Session")],-1),In=s(" a "),Ln=n("code",null,"true",-1),En=s(" en las opciones de "),Pn=n("code",null,"I18n",-1),Fn=s("."),Tn=n("p",null,[s("Aqu\xED hay un ejemplo que incluye un simple comando "),n("code",null,"/language"),s(":")],-1),Nn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context"),n("span",{class:"token punctuation"},","),s(" session"),n("span",{class:"token punctuation"},","),s(" SessionFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SessionData"),s(),n("span",{class:"token punctuation"},"{"),s(`
  __language_code`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" SessionFlavor"),n("span",{class:"token operator"},"<"),s("SessionData"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  useSession`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// si se almacena el idioma del usuario en la sesi\xF3n"),s(`

  `),n("span",{class:"token comment"},"// Cargar locales desde el directorio `locales`."),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- pon tu token de bot aqu\xED"),s(`

`),n("span",{class:"token comment"},"// Recuerda registrar el middleware `session` antes de"),s(`
`),n("span",{class:"token comment"},"// registrar el middleware de la instancia i18n."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Registrar el middleware i18n"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contiene todas las locales que se han registrado"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` devuelve la configuraci\xF3n regional que se est\xE1 utilizando."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Bn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" session "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"defaultLocale"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"useSession"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// si se almacena el idioma del usuario en la sesi\xF3n"),s(`
  `),n("span",{class:"token literal-property property"},"directory"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Cargar locales desde el directorio `locales`."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Bot"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- pon tu token de bot aqu\xED"),s(`

`),n("span",{class:"token comment"},"// Recuerda registrar el middleware `session` antes de"),s(`
`),n("span",{class:"token comment"},"// registrar el middleware de la instancia i18n."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Registrar el middleware i18n"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contiene todas las locales que se han registrado"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` devuelve la configuraci\xF3n regional que se est\xE1 utilizando."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Dn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  Bot`),n("span",{class:"token punctuation"},","),s(`
  Context`),n("span",{class:"token punctuation"},","),s(`
  session`),n("span",{class:"token punctuation"},","),s(`
  SessionFlavor`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy@v1.11.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SessionData"),s(),n("span",{class:"token punctuation"},"{"),s(`
  __language_code`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" SessionFlavor"),n("span",{class:"token operator"},"<"),s("SessionData"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  useSession`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// si se almacena el idioma del usuario en la sesi\xF3n"),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Cargar locales desde el directorio `locales`."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <<-- pon tu token de bot aqu\xED"),s(`

`),n("span",{class:"token comment"},"// Recuerda registrar el middleware `session` antes de"),s(`
`),n("span",{class:"token comment"},"// registrar el middleware de la instancia i18n."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Registrar el middleware i18n"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contiene todas las locales que se han registrado"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` devuelve la configuraci\xF3n regional que se est\xE1 utilizando."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),An=c(`<p>Cuando las sesiones est\xE1n habilitadas, la propiedad <code>_<wbr>_language<wbr>_code</code> de la sesi\xF3n se utilizar\xE1 en lugar de <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> (proporcionada por el cliente de Telegram) durante la selecci\xF3n del idioma. Cuando tu bot env\xEDa mensajes, la configuraci\xF3n regional se selecciona desde <code>ctx<wbr>.session<wbr>._<wbr>_language<wbr>_code</code>.</p><p>Hay un m\xE9todo <code>set<wbr>Locale</code> que puedes utilizar para establecer el idioma deseado. Este valor se guardar\xE1 en tu sesi\xF3n.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Esto es equivalente a establecerlo manualmente en la sesi\xF3n, y luego renegociar la configuraci\xF3n regional:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Renegociaci\xF3n de la configuraci\xF3n regional</p><p>Cuando se utilizan sesiones o alguna otra cosa\u2014aparte de <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>\u2014para seleccionar una configuraci\xF3n regional personalizada para el usuario, hay algunas situaciones en las que se puede cambiar el idioma mientras se maneja una actualizaci\xF3n. Por ejemplo, eche un vistazo al ejemplo anterior utilizando sesiones.</p><p>Cuando s\xF3lo se hace</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>no se actualizar\xE1 la configuraci\xF3n regional utilizada actualmente en la instancia <code>I18n</code>. En su lugar, s\xF3lo actualiza la sesi\xF3n. Por lo tanto, los cambios s\xF3lo tendr\xE1n lugar <em>en la pr\xF3xima actualizaci\xF3n</em>.</p><p>Si no puedes esperar hasta la siguiente actualizaci\xF3n, puede que tengas que refrescar los cambios despu\xE9s de actualizar el idioma del usuario. Utilice el m\xE9todo <code>renegotiate<wbr>Locale</code> para estos casos.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Despu\xE9s, cada vez que usemos el m\xE9todo <code>t</code>, el bot intentar\xE1 responder con la traducci\xF3n al alem\xE1n de ese mensaje (especificada en <code>locales<wbr>/de<wbr>.ftl</code>).</p><p>Adem\xE1s, recuerda que cuando utilices sesiones incorporadas, puedes conseguir el mismo resultado utilizando el m\xE9todo <code>set<wbr>Locale</code>.</p></div><div class="custom-container tip"><p class="custom-container-title">Para establecer la configuraci\xF3n regional cuando no se utilizan sesiones</p><p>Cuando <a href="#sin-sesiones">no se usan sesiones</a>, si hay un caso en el que necesitas establecer la configuraci\xF3n regional para un usuario, puedes hacerlo usando el m\xE9todo <code>use<wbr>Locale</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">useLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Establece la configuraci\xF3n regional especificada para ser utilizada en futuras traducciones. El efecto dura s\xF3lo para la actualizaci\xF3n actual y no se conserva. Puedes utilizar este m\xE9todo para cambiar la configuraci\xF3n regional de la traducci\xF3n en medio de la actualizaci\xF3n (por ejemplo, cuando el usuario cambia el idioma).</p></div><h2 id="negociacion-personalizada-de-la-configuracion-regional" tabindex="-1"><a class="header-anchor" href="#negociacion-personalizada-de-la-configuracion-regional" aria-hidden="true">#</a> Negociaci\xF3n personalizada de la configuraci\xF3n regional</h2><p>Puede utilizar la opci\xF3n <code>locale<wbr>Negotiator</code> para especificar un negociador de configuraci\xF3n regional personalizado. Esta opci\xF3n es \xFAtil si quiere seleccionar la configuraci\xF3n regional bas\xE1ndose en fuentes externas (como bases de datos) o en otras situaciones en las que quiera controlar qu\xE9 configuraci\xF3n regional se utiliza.</p><p>Este es el orden por defecto de c\xF3mo el plugin elige su configuraci\xF3n regional:</p><ol><li><p>Si las sesiones est\xE1n habilitadas, intenta leer <code>_<wbr>_language<wbr>_code</code> de la sesi\xF3n. Si devuelve una configuraci\xF3n regional v\xE1lida, se utiliza. Si no devuelve nada o una configuraci\xF3n regional no registrada, se pasa al paso 2.</p></li><li><p>Intente leer de <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>. Si devuelve una configuraci\xF3n regional v\xE1lida, se utiliza. Si no devuelve nada o devuelve una configuraci\xF3n regional no registrada, pasa al paso 3.</p><blockquote><p>Ten en cuenta que <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> s\xF3lo est\xE1 disponible si el usuario ha iniciado el bot. Eso significa que si el bot ve al usuario en un grupo o en alg\xFAn lugar sin que el usuario haya iniciado previamente el bot, no podr\xE1 ver <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>.</p></blockquote></li><li><p>Prueba a utilizar el idioma por defecto configurado en las opciones de <code>I18n</code>. Si est\xE1 configurado en una configuraci\xF3n regional v\xE1lida, se utiliza. Si no se especifica o se establece a una configuraci\xF3n regional no registrada, pasa al paso 4.</p></li><li><p>Pruebe a utilizar el ingl\xE9s (<code>en</code>). El propio plugin establece esta configuraci\xF3n regional como la \xFAltima alternativa. Aunque es una configuraci\xF3n regional alternativa, y recomendamos tener una traducci\xF3n, no es un requisito. Si no se proporciona ninguna configuraci\xF3n regional en ingl\xE9s, vaya al paso 5.</p></li><li><p>Si todo lo anterior falla, utilice <code>{key}</code> en lugar de una traducci\xF3n. Recomendamos** establecer una configuraci\xF3n regional que exista en sus traducciones como <code>default<wbr>Locale</code> en las opciones <code>I18n</code>.</p></li></ol><div class="custom-container tip"><p class="custom-container-title">Negociaci\xF3n de la configuraci\xF3n regional</p><p>La negociaci\xF3n de la configuraci\xF3n regional ocurre normalmente s\xF3lo una vez durante el proceso de actualizaci\xF3n de Telegram. Sin embargo, puedes ejecutar <code>ctx<wbr>.i18n<wbr>.renegotiate<wbr>Locale()</code> para llamar al negociador de nuevo y determinar la nueva localizaci\xF3n. Es \xFAtil si la configuraci\xF3n regional cambia durante el procesamiento de una sola actualizaci\xF3n.</p></div><p>Este es un ejemplo de <code>locale<wbr>Negotiator</code> donde usamos <code>locale</code> de la sesi\xF3n en lugar de <code>_<wbr>_language<wbr>_code</code>. En un caso como este, no es necesario establecer <code>use<wbr>Session</code> a <code>true</code> en las opciones de <code>I18n</code>.</p>`,13),Mn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function-variable function"},"localeNegotiator"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(`
    ctx`),n("span",{class:"token punctuation"},"."),s("session"),n("span",{class:"token punctuation"},"."),s("locale "),n("span",{class:"token operator"},"??"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("from"),n("span",{class:"token operator"},"?."),s("language_code "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Rn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function-variable function"},"localeNegotiator"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(`
    ctx`),n("span",{class:"token punctuation"},"."),s("session"),n("span",{class:"token punctuation"},"."),s("locale "),n("span",{class:"token operator"},"??"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("from"),n("span",{class:"token operator"},"?."),s("language_code "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Hn=c(`<p>Si el negociador de configuraci\xF3n regional personalizado devuelve una configuraci\xF3n regional no v\xE1lida, volver\xE1 a elegir una configuraci\xF3n regional, siguiendo el orden anterior.</p><h2 id="renderizacion-de-los-mensajes-traducidos" tabindex="-1"><a class="header-anchor" href="#renderizacion-de-los-mensajes-traducidos" aria-hidden="true">#</a> Renderizaci\xF3n de los mensajes traducidos</h2><p>Echemos un vistazo a la representaci\xF3n de los mensajes.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Llama al helper &quot;translate&quot; o &quot;t&quot; para renderizar el</span>
  <span class="token comment">// mensaje especificando su ID y par\xE1metros adicionales:</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ahora puedes <code>/start</code> tu bot. Deber\xEDa mostrar el siguiente mensaje:</p><div class="language-text ext-text"><pre class="language-text"><code>\xA1Hola!
</code></pre></div><h3 id="placeables" tabindex="-1"><a class="header-anchor" href="#placeables" aria-hidden="true">#</a> Placeables</h3><p>A veces, puede querer colocar valores como n\xFAmeros y nombres dentro de las cadenas. Puedes hacer esto con placeables.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Puedes pasar placeables como segundo objeto.</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;cart-msg&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> items<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>El objeto <code>{ items:<wbr> 10 }</code> se llama el <em>contexto de traducci\xF3n</em> del string <code>cart<wbr>-msg</code>.</p><p>Ahora, con el comando <code>/cart</code>:</p><div class="language-text ext-text"><pre class="language-text"><code>Actualmente tienes 10 art\xEDculos en tu carrito.
</code></pre></div>`,12),Gn=s("Intenta cambiar el valor de la variable "),Yn=n("code",null,"items",-1),Jn=s(" para ver c\xF3mo cambia el mensaje renderizado. Tambi\xE9n, revisa la documentaci\xF3n de Fluent, especialmente la "),Un={href:"https://projectfluent.org/fluent/guide/placeables.html",target:"_blank",rel:"noopener noreferrer"},Vn=s("documentaci\xF3n de placeables"),Qn=s("."),$n=c(`<h3 id="placeables-globales" tabindex="-1"><a class="header-anchor" href="#placeables-globales" aria-hidden="true">#</a> Placeables globales</h3><p>Puede ser \xFAtil especificar un n\xFAmero de placeables que deben estar disponibles para <em>todas</em> las traducciones. Por ejemplo, si se reutiliza el nombre del usuario en muchos mensajes, puede ser tedioso pasar el contexto de traducci\xF3n <code>{ nombre:<wbr> ctx<wbr>.from<wbr>.first<wbr>_name }</code> a todas partes.</p><p>\xA1Los placeables globales vienen al rescate! Considere esto:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// Definir las localizaciones disponibles globalmente:</span>
  <span class="token function">globalTranslationContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> nombre<span class="token operator">:</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>first_name <span class="token operator">??</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \xA1Puede usar \`nombre\` sin especificarlo de nuevo!</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="anadir-traducciones" tabindex="-1"><a class="header-anchor" href="#anadir-traducciones" aria-hidden="true">#</a> A\xF1adir traducciones</h2><p>Hay tres m\xE9todos principales para cargar traducciones.</p><h3 id="cargar-locales-usando-la-opcion-directory" tabindex="-1"><a class="header-anchor" href="#cargar-locales-usando-la-opcion-directory" aria-hidden="true">#</a> Cargar locales usando la opci\xF3n <code>directory</code></h3><p>La forma m\xE1s sencilla de a\xF1adir traducciones a la instancia <code>I18n</code> es teniendo todas las traducciones en un directorio y especificando el nombre del directorio en las opciones.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cargar-locales-desde-un-directorio" tabindex="-1"><a class="header-anchor" href="#cargar-locales-desde-un-directorio" aria-hidden="true">#</a> Cargar locales desde un directorio</h3><p>Este m\xE9todo es lo mismo que especificar <code>directory</code> en las opciones. S\xF3lo hay que ponerlas todas en una carpeta y cargarlas as\xED</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDir</span><span class="token punctuation">(</span><span class="token string">&quot;locales&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// versi\xF3n as\xEDncrona</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDirSync</span><span class="token punctuation">(</span><span class="token string">&quot;locales-2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// versi\xF3n s\xEDncrona</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cargar-un-solo-locale" tabindex="-1"><a class="header-anchor" href="#cargar-un-solo-locale" aria-hidden="true">#</a> Cargar un solo locale</h3><p>Tambi\xE9n es posible a\xF1adir una \xFAnica traducci\xF3n a la instancia. Puede especificar la ruta del archivo de la traducci\xF3n utilizando</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/en.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// versi\xF3n as\xEDncrona</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/de.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// versi\xF3n s\xEDncrona</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>o puedes cargar directamente los datos de la traducci\xF3n como una cadena, as\xED</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// versi\xF3n as\xEDncrona</span>
<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">greeting = Hello { $name }!
language-set = Language has been set to English!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// versi\xF3n s\xEDncrona</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">greeting = Hallo { $name }!
language-set = Die Sprache wurde zu Deutsch ge\xE4ndert!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="escuchando-por-texto-localizado" tabindex="-1"><a class="header-anchor" href="#escuchando-por-texto-localizado" aria-hidden="true">#</a> Escuchando por texto localizado</h2><p>Hemos conseguido enviar mensajes localizados al usuario. Ahora, veamos c\xF3mo escuchar los mensajes enviados por el usuario. En grammY, normalmente usamos el manejador <code>bot<wbr>.hears</code> para escuchar los mensajes entrantes. Pero ya que hemos estado hablando de la internacionalizaci\xF3n, en esta secci\xF3n veremos c\xF3mo escuchar los mensajes entrantes localizados.</p>`,19),On=s("Esta funci\xF3n es muy \xFAtil cuando tu bot tiene "),Kn=s("teclados personalizados"),Wn=s(" que contienen texto localizado."),Xn=n("p",null,[s("Este es un breve ejemplo de c\xF3mo escuchar un mensaje de texto localizado enviado con un teclado personalizado. En lugar de usar el manejador "),n("code",null,[s("bot"),n("wbr"),s(".hears")]),s(", usamos "),n("code",null,[s("bot"),n("wbr"),s(".filter")]),s(" combinado con el middleware "),n("code",null,"hears"),s(" proporcionado por este plugin.")],-1),Zn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ns=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ss=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),as=n("p",null,[s("La funci\xF3n helper "),n("code",null,"hears"),s(" permite a tu bot escuchar un mensaje que est\xE1 escrito en la configuraci\xF3n regional del usuario.")],-1),es=n("h2",{id:"pasos-adicionales",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pasos-adicionales","aria-hidden":"true"},"#"),s(" Pasos adicionales")],-1),ts=s("Completa la lectura de la "),os={href:"https://projectfluent.org/",target:"_blank",rel:"noopener noreferrer"},cs=s("documentaci\xF3n de Fluent"),ls=s(", especialmente la "),is={href:"https://projectfluent.org/fluent/guide/",target:"_blank",rel:"noopener noreferrer"},ps=s("gu\xEDa de sintaxis"),us=s("."),rs=s("Revisa los "),ds={href:"https://github.com/grammyjs/i18n/tree/main/examples",target:"_blank",rel:"noopener noreferrer"},ks=s("ejemplos"),ms=s(" adecuados de este plugin para Deno y Node.js."),bs=n("h2",{id:"resumen-del-plugin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#resumen-del-plugin","aria-hidden":"true"},"#"),s(" Resumen del plugin")],-1),gs=n("li",null,[s("Nombre: "),n("code",null,"i18n")],-1),vs=s("Fuente: "),hs={href:"https://github.com/grammyjs/i18n",target:"_blank",rel:"noopener noreferrer"},fs=s("https://"),ys=n("wbr",null,null,-1),_s=s("github"),ws=n("wbr",null,null,-1),xs=s(".com"),qs=n("wbr",null,null,-1),zs=s("/grammyjs"),js=n("wbr",null,null,-1),Cs=s("/i18n"),Ss=s("Referencia de la API: "),Is={href:"https://doc.deno.land/https://deno.land/x/grammy_i18n/mod.ts",target:"_blank",rel:"noopener noreferrer"},Ls=c("https://<wbr>doc<wbr>.deno<wbr>.land<wbr>/https://<wbr>deno<wbr>.land<wbr>/x<wbr>/grammy<wbr>_i18n<wbr>/mod<wbr>.ts",23);function Es(Ps,Fs){const u=l("Tag"),r=l("TagGroup"),i=l("RouterLink"),t=l("ExternalLinkIcon"),o=l("CodeGroupItem"),p=l("CodeGroup");return k(),m("div",null,[g,a(r,null,{default:e(()=>[a(u,{type:"official",text:"OFICIAL"})]),_:1}),v,n("div",h,[f,n("p",null,[y,a(i,{to:"/es/plugins/fluent.html"},{default:e(()=>[_]),_:1}),w]),n("p",null,[x,a(i,{to:"/es/plugins/fluent.html"},{default:e(()=>[q]),_:1}),z])]),j,n("p",null,[C,n("a",S,[I,a(t)]),L]),n("p",null,[E,P,F,T,N,B,D,n("a",A,[M,a(t)]),R]),H,n("p",null,[G,n("a",Y,[J,a(t)]),U,n("a",V,[Q,a(t)]),$]),O,n("p",null,[K,n("a",W,[X,Z,nn,sn,an,en,tn,on,cn,a(t)])]),ln,n("p",null,[pn,a(i,{to:"/es/plugins/session.html"},{default:e(()=>[un]),_:1}),rn,dn,kn,mn,bn]),gn,a(p,null,{default:e(()=>[a(o,{title:"TypeScript",active:""},{default:e(()=>[vn]),_:1}),a(o,{title:"JavaScript"},{default:e(()=>[hn]),_:1}),a(o,{title:"Deno"},{default:e(()=>[fn]),_:1})]),_:1}),yn,_n,wn,n("p",null,[xn,qn,zn,a(i,{to:"/es/plugins/session.html"},{default:e(()=>[jn]),_:1}),Cn,Sn,In,Ln,En,Pn,Fn]),Tn,a(p,null,{default:e(()=>[a(o,{title:"TypeScript",active:""},{default:e(()=>[Nn]),_:1}),a(o,{title:"JavaScript"},{default:e(()=>[Bn]),_:1}),a(o,{title:"Deno"},{default:e(()=>[Dn]),_:1})]),_:1}),An,a(p,null,{default:e(()=>[a(o,{title:"TypeScript"},{default:e(()=>[Mn]),_:1}),a(o,{title:"JavaScript"},{default:e(()=>[Rn]),_:1})]),_:1}),Hn,n("p",null,[Gn,Yn,Jn,n("a",Un,[Vn,a(t)]),Qn]),$n,n("p",null,[On,a(i,{to:"/es/plugins/keyboard.html#custom-keyboards"},{default:e(()=>[Kn]),_:1}),Wn]),Xn,a(p,null,{default:e(()=>[a(o,{title:"TypeScript"},{default:e(()=>[Zn]),_:1}),a(o,{title:"JavaScript"},{default:e(()=>[ns]),_:1}),a(o,{title:"Deno"},{default:e(()=>[ss]),_:1})]),_:1}),as,es,n("ul",null,[n("li",null,[ts,n("a",os,[cs,a(t)]),ls,n("a",is,[ps,a(t)]),us]),n("li",null,[rs,n("a",ds,[ks,a(t)]),ms])]),bs,n("ul",null,[gs,n("li",null,[vs,n("a",hs,[fs,ys,_s,ws,xs,qs,zs,js,Cs,a(t)])]),n("li",null,[Ss,n("a",Is,[Ls,a(t)])])])])}const Ns=d(b,[["render",Es],["__file","i18n.html.vue"]]);export{Ns as default};
