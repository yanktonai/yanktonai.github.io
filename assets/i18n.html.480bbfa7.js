import{_ as k,r as l,o as d,c as m,b as a,w as t,a as n,d as s,e as c}from"./app.34388d32.js";const h={},g=n("h1",{id:"internationalization-i18n",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#internationalization-i18n","aria-hidden":"true"},"#"),s(" Internationalization ("),n("code",null,"i18n"),s(")")],-1),b=n("p",null,"The internationalization plugin makes your bot speak multiple languages.",-1),v={class:"custom-container tip"},y=n("p",{class:"custom-container-title"},"Not to Be Confused",-1),f=s("Don\u2019t confuse this with "),w=s("fluent"),_=s("."),x=s("This plugin is an improved version of "),I=s("fluent"),q=s(" that works on both Deno and Node.js."),L=c('<h2 id="internationalization-explained" tabindex="-1"><a class="header-anchor" href="#internationalization-explained" aria-hidden="true">#</a> Internationalization Explained</h2><blockquote><p>This section explains what internationalization is, why it is needed, what is complicated about it, how it relates to localization, and why you need a plugin for all of this. If you already know these things, scroll right to <a href="#getting-started">Getting Started</a>.</p></blockquote><p>First, internationalization is a very long word. Hence, people like to write the first letter (i) and the last letter (n). They then count all remaining letters (nternationalizatio, 18 letters) and put this number between i and the n, so they end up with <em>i18n</em>. Don\u2019t ask us why. So i18n is just a weird abbreviation of the word internationalization.</p><p>The same is done to localization, which turns into <em>l10n</em>.</p><h3 id="what-is-localization" tabindex="-1"><a class="header-anchor" href="#what-is-localization" aria-hidden="true">#</a> What Is Localization?</h3><p>Localization means creating a bot that can speak multiple languages. It should automatically adjust its language to the language of the user.</p><p>There are more things to localize than the language. You can also account for cultural differences or other standards, such as the date and time formats. Here are a few more examples of things that are represented differently across the globe:</p><ol><li>Dates</li><li>Times</li><li>Numbers</li><li>Units</li><li>Pluralization</li><li>Genders</li><li>Hyphenation</li><li>Capitalization</li><li>Alignment</li><li>Symbols and icons</li><li>Sorting</li></ol>',8),T=s("\u2026 and "),S={href:"https://youtu.be/0j74jcxSunY",target:"_blank",rel:"noopener noreferrer"},C=s("a lot more"),z=s("."),j=s("All of these things collectively define the "),F=n("em",null,"locale",-1),B=s(" of a user. Locales often get two-letter codes, such as "),D=n("code",null,"en",-1),Y=s(" for English, "),N=n("code",null,"de",-1),H=s(" for German, and so on. If you want to find the code for your locale, check out "),M={href:"https://en.wikipedia.org/wiki/IETF_language_tag#List_of_common_primary_language_subtags",target:"_blank",rel:"noopener noreferrer"},W=s("this list"),G=s("."),E=c('<h3 id="what-is-internationalization" tabindex="-1"><a class="header-anchor" href="#what-is-internationalization" aria-hidden="true">#</a> What Is Internationalization?</h3><p>In a nutshell, internationalization means writing code that can adjust to a user\u2019s locale. In other words, internationalization is what enables localization (see <a href="#what-is-localization">above</a>). This means that while your bot fundamentally works the same way for everybody, the exact messages it sends vary from user to user, so the bot can speak different languages.</p><p>You are doing internationalization if you don\u2019t hard-code the texts your bot sends but instead read them from a file dynamically. You are doing internationalization if you don\u2019t hard-code how dates and times are represented, and instead use a library that adjusts these values according to different standards. You get the idea: Don\u2019t hard-code stuff that should change based on where the user lives or the language they speak.</p><h3 id="why-do-you-need-this-plugin" tabindex="-1"><a class="header-anchor" href="#why-do-you-need-this-plugin" aria-hidden="true">#</a> Why Do You Need This Plugin?</h3>',4),R=s("This plugin can assist you throughout your internationalization process. It is based on "),A={href:"https://projectfluent.org/",target:"_blank",rel:"noopener noreferrer"},P=s("Fluent"),U=s("\u2014a localization system built by "),J={href:"https://mozilla.org/",target:"_blank",rel:"noopener noreferrer"},V=s("Mozilla"),O=s(". This system has a very powerful and elegant syntax that lets you write natural-sounding translations in an efficient way."),$=c(`<p>In essence, you can extract the things that should adjust based on the user\u2019s locale to some text files that you put next to your code. You can then use this plugin to load these localizations. The plugin will automatically determine the user\u2019s locale and let your bot choose the right language to speak.</p><p>Below, we will call these text files <em>translation files</em>. They are required to follow Fluent\u2019s syntax.</p><h2 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started</h2><blockquote><p>This section describes setting up your project structure and where to put your translation files. If you are familiar with this, <a href="#usage">skip ahead</a> to see how to install and use the plugin.</p></blockquote><p>There are <a href="#adding-translations">multiple ways</a> to add more languages to your bot. The easiest way is to create a folder with your Fluent translation files. Usually, the name of that folder is going to be <code>locales<wbr>/</code>. The translation files should have the extension <code>.ftl</code> (fluent).</p><p>Here is an example project structure:</p><div class="language-asciiart ext-asciiart"><pre class="language-asciiart"><code>.
\u251C\u2500\u2500 bot.ts
\u2514\u2500\u2500 locales/
    \u251C\u2500\u2500 de.ftl
    \u251C\u2500\u2500 en.ftl
    \u251C\u2500\u2500 it.ftl
    \u2514\u2500\u2500 ru.ftl
</code></pre></div>`,7),K=s("If you\u2019re unfamiliar with Fluent\u2019s syntax, you can read their guide: "),Q={href:"https://projectfluent.org/fluent/guide",target:"_blank",rel:"noopener noreferrer"},X=s("https://"),Z=n("wbr",null,null,-1),nn=s("projectfluent"),sn=n("wbr",null,null,-1),an=s(".org"),tn=n("wbr",null,null,-1),en=s("/fluent"),on=n("wbr",null,null,-1),cn=s("/guide"),ln=c(`<p>Here is an example translation file for English, called <code>locales<wbr>/en<wbr>.ftl</code>:</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hi, how can I /help you?
help =
    Send me some text, and I can make it bold for you.
    You can change my language using the /language command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The German equivalent would be called <code>locales<wbr>/de<wbr>.ftl</code> and look like this:</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hallo, wie kann ich dir helfen? /help
help =
    Schick eine Textnachricht, die ich f\xFCr dich fett schreiben soll.
    Du kannst mit dem Befehl /language die Spache \xE4ndern.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In your bot, you can now use these translations through the plugin. It will make them available through <code>ctx<wbr>.t</code>:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Whenever you call <code>ctx<wbr>.t</code>, the locale of the current context object <code>ctx</code> is used to find the proper translation. Finding the proper translation is done using a <em>locale negotiator</em>. In the simplest case, it just returns <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>.</p><p>As a result, users with different locales will be able to read the messages, each in their language.</p><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>The plugin derives the user\u2019s locale from many different factors. One of them is from <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>, which will be provided by the user\u2019s client.</p>`,10),pn=s("However, there are many more things that can be used to determine the user\u2019s locale. For example, you could store the user\u2019s locale in your "),un=s("session"),rn=s(". Hence, there are two main ways to use this plugin: "),kn=n("a",{href:"#with-sessions"},"With Sessions",-1),dn=s(" and "),mn=n("a",{href:"#without-sessions"},"Without Sessions",-1),hn=s("."),gn=c('<h3 id="without-sessions" tabindex="-1"><a class="header-anchor" href="#without-sessions" aria-hidden="true">#</a> Without Sessions</h3><p>It\u2019s easier to use and set up the plugin without sessions. Its main drawback is that you can\u2019t store the languages the users choose.</p><p>Like mentioned above, the locale to be used for the user will be decided with <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>, which is coming from the user\u2019s client. But the default language will be used if you don\u2019t have a translation of that language. Sometimes your bot might not be able to see the user\u2019s preferred language provided by their client, and in that case the default language will be used, too.</p><p><strong>The <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> will be visible only if the user previously has started a private conversation with your bot.</strong></p>',4),bn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// For TypeScript and auto-completion support,"),s(`
`),n("span",{class:"token comment"},"// extend the context with I18n's flavor:"),s(`
`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create a bot as you normally would."),s(`
`),n("span",{class:"token comment"},"// Remember to extend the context."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Create an `I18n` instance."),s(`
`),n("span",{class:"token comment"},"// Continue reading to find out how to configure the instance."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// see below for more information"),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finally, register the i18n instance in the bot,"),s(`
`),n("span",{class:"token comment"},"// so the messages get translated on their way!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Everything is set up now."),s(`
`),n("span",{class:"token comment"},"// You can access translations with `t` or `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),vn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create a bot as you normally would."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Bot"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Create an `I18n` instance."),s(`
`),n("span",{class:"token comment"},"// Continue reading to find out how to configure the instance."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"defaultLocale"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// see below for more information"),s(`
  `),n("span",{class:"token literal-property property"},"directory"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finally, register the i18n instance in the bot,"),s(`
`),n("span",{class:"token comment"},"// so the messages get translated on their way!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Everything is set up now."),s(`
`),n("span",{class:"token comment"},"// You can access translations with `t` or `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),yn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy@v1.11.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// For TypeScript and auto-completion support,"),s(`
`),n("span",{class:"token comment"},"// extend the context with I18n's flavor:"),s(`
`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create a bot as you normally would."),s(`
`),n("span",{class:"token comment"},"// Remember to extend the context."),s(`
`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here (https://t.me/BotFather)"),s(`

`),n("span",{class:"token comment"},"// Create an `I18n` instance."),s(`
`),n("span",{class:"token comment"},"// Continue reading to find out how to configure the instance."),s(`
`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// see below for more information"),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Finally, register the i18n instance in the bot,"),s(`
`),n("span",{class:"token comment"},"// so the messages get translated on their way!"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Everything is set up now."),s(`
`),n("span",{class:"token comment"},"// You can access translations with `t` or `translate`."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),fn=n("p",null,[n("code",null,[s("ctx"),n("wbr"),s(".t")]),s(" returns the translated message for the specified key. You don\u2019t have to worry about languages, as they will be picked automatically by the plugin.")],-1),wn=n("p",null,"Congratulations! Your bot now speaks multiple languages! \u{1F30D}\u{1F389}",-1),_n=n("h3",{id:"with-sessions",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#with-sessions","aria-hidden":"true"},"#"),s(" With Sessions")],-1),xn=s("Let\u2019s assume that your bot has a "),In=n("code",null,"/language",-1),qn=s(" command. Generally, in grammY we can use "),Ln=s("sessions"),Tn=s(" to store user data per chat. To let your internationalization instance know that sessions are enabled, you have to set "),Sn=n("code",null,[s("use"),n("wbr"),s("Session")],-1),Cn=s(" to "),zn=n("code",null,"true",-1),jn=s(" in the options of "),Fn=n("code",null,"I18n",-1),Bn=s("."),Dn=n("p",null,[s("Here is an example including a simple "),n("code",null,"/language"),s(" command:")],-1),Yn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" Context"),n("span",{class:"token punctuation"},","),s(" session"),n("span",{class:"token punctuation"},","),s(" SessionFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SessionData"),s(),n("span",{class:"token punctuation"},"{"),s(`
  __language_code`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" SessionFlavor"),n("span",{class:"token operator"},"<"),s("SessionData"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  useSession`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// whether to store user language in session"),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here"),s(`

`),n("span",{class:"token comment"},"// Remember to register `session` middleware before"),s(`
`),n("span",{class:"token comment"},"// registering middleware of the i18n instance."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Register i18n middleware"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contains all the locales that have been registered"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` returns the locale currently using."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Nn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" Bot"),n("span",{class:"token punctuation"},","),s(" session "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"grammy"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"defaultLocale"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"useSession"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// whether to store user language in session"),s(`
  `),n("span",{class:"token literal-property property"},"directory"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Bot"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here"),s(`

`),n("span",{class:"token comment"},"// Remember to register `session` middleware before"),s(`
`),n("span",{class:"token comment"},"// registering middleware of the i18n instance."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Register i18n middleware"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contains all the locales that have been registered"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` returns the locale currently using."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Hn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  Bot`),n("span",{class:"token punctuation"},","),s(`
  Context`),n("span",{class:"token punctuation"},","),s(`
  session`),n("span",{class:"token punctuation"},","),s(`
  SessionFlavor`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy@v1.11.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" I18n"),n("span",{class:"token punctuation"},","),s(" I18nFlavor "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SessionData"),s(),n("span",{class:"token punctuation"},"{"),s(`
  __language_code`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"MyContext"),s(),n("span",{class:"token operator"},"="),s(" Context "),n("span",{class:"token operator"},"&"),s(" SessionFlavor"),n("span",{class:"token operator"},"<"),s("SessionData"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" I18nFlavor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  defaultLocale`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
  useSession`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// whether to store user language in session"),s(`
  directory`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"locales"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// Load all translation files from locales/."),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bot "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("Bot"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// <-- put your bot token here"),s(`

`),n("span",{class:"token comment"},"// Remember to register `session` middleware before"),s(`
`),n("span",{class:"token comment"},"// registering middleware of the i18n instance."),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token function"},"session"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"initial"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Register the i18n middleware"),s(`
bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("i18n"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"start"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"greeting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.specify-a-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `i18n.locales` contains all the locales that have been registered"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("i18n"),n("span",{class:"token punctuation"},"."),s("locales"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.invalid-locale"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// `ctx.i18n.getLocale` returns the locale currently using."),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocale"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"==="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.already-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("i18n"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setLocale"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),s("match"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"language.language-set"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Mn=c(`<p>When sessions are enabled, the <code>_<wbr>_language<wbr>_code</code> property in the session will be used instead of <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> (provided by the Telegram client) during language selection. When your bot sends messages, the locale is selected from <code>ctx<wbr>.session<wbr>._<wbr>_language<wbr>_code</code>.</p><p>There is a <code>set<wbr>Locale</code> method that you can use to set the desired language. It will save this value in your session.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This is equivalent to manually setting it in session, and then renegotiating the locale:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Renegotiating the Locale</p><p>When you are using sessions or something else\u2014apart from <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>\u2014for selecting a custom locale for the user, there are some situations where you might change the language while handling an update. For instance, take a look at the above example using sessions.</p><p>When you only do</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>it will not update the currently used locale in the <code>I18n</code> instance. Instead, it only updates the session. Thus, the changes will only take place <em>for the next update</em>.</p><p>If you cannot wait until the next update, you might need to refresh the changes after updating the user language. Use the <code>renegotiate<wbr>Locale</code> method for these cases.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Afterwards, whenever we use the method <code>t</code>, the bot will try to reply with the German translation of that message (specified in <code>locales<wbr>/de<wbr>.ftl</code>).</p><p>Also, remember that when you use built-in sessions, you can achieve the same result using the <code>set<wbr>Locale</code> method.</p></div><div class="custom-container tip"><p class="custom-container-title">Setting the Locale When Not Using Sessions</p><p>When <a href="#without-sessions">not using sessions</a>, if there is a case where you need to set the locale for a user, you can do that by using the <code>use<wbr>Locale</code> method.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">useLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>It sets the specified locale to be used for future translations. The effect lasts only for the current update and is not preserved. You can use this method to change the translation locale in the middle of the update (e.g., when the user changes the language).</p></div><h2 id="custom-locale-negotiation" tabindex="-1"><a class="header-anchor" href="#custom-locale-negotiation" aria-hidden="true">#</a> Custom Locale Negotiation</h2><p>You can use the option <code>locale<wbr>Negotiator</code> to specify a custom locale negotiator. This option is helpful if you want to select the locale based on external sources (such as databases) or in other situations where you want to control which locale is used.</p><p>Here is the default order of how the plugin chooses its locale:</p><ol><li><p>If sessions are enabled, try to read <code>_<wbr>_language<wbr>_code</code> from the session. If it returns a valid locale, it is used. If it returns nothing or a non-registered locale, move on to step 2.</p></li><li><p>Try to read from <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>. If it returns a valid locale, it is used. If it returns nothing or a non-registered locale, move on to step 3.</p><blockquote><p>Note that <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> is only available if the user has started the bot. That means if the bot sees the user in a group or somewhere without the user previously having started the bot, it won\u2019t be able to see <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>.</p></blockquote></li><li><p>Try using the default language configured in the options of <code>I18n</code>. If it is set to a valid locale, it is used. If it isn\u2019t specified or set to a non-registered locale, move on to step 4.</p></li><li><p>Try using English (<code>en</code>). The plugin itself sets this as the ultimate fallback locale. Even though it is a fallback locale, and we recommend having a translation, it is not a requirement. If no English locale is provided, move on to step 5.</p></li><li><p>If all the above things fail, use <code>{key}</code> instead of a translation. We <strong>highly recommend</strong> setting a locale that exists in your translations as <code>default<wbr>Locale</code> in the <code>I18n</code> options.</p></li></ol><div class="custom-container tip"><p class="custom-container-title">Locale Negotiation</p><p>Locale negotiation happens typically only once during Telegram update processing. However, you can run <code>ctx<wbr>.i18n<wbr>.renegotiate<wbr>Locale()</code> to call the negotiator again and determine the new locale. It is helpful if the locale changes during single update processing.</p></div><p>Here is an example of <code>locale<wbr>Negotiator</code> where we use <code>locale</code> from session instead of <code>_<wbr>_language<wbr>_code</code>. In a case like this, you don\u2019t have to set <code>use<wbr>Session</code> to <code>true</code> in the options of <code>I18n</code>.</p>`,13),Wn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("I18n"),n("span",{class:"token operator"},"<"),s("MyContext"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function-variable function"},"localeNegotiator"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(`
    ctx`),n("span",{class:"token punctuation"},"."),s("session"),n("span",{class:"token punctuation"},"."),s("locale "),n("span",{class:"token operator"},"??"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("from"),n("span",{class:"token operator"},"?."),s("language_code "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Gn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" i18n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"I18n"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function-variable function"},"localeNegotiator"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(`
    ctx`),n("span",{class:"token punctuation"},"."),s("session"),n("span",{class:"token punctuation"},"."),s("locale "),n("span",{class:"token operator"},"??"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("from"),n("span",{class:"token operator"},"?."),s("language_code "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'"en"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),En=c(`<p>If the custom locale negotiator returns an invalid locale, it will fall back and choose a locale, following the above order.</p><h2 id="rendering-translated-messages" tabindex="-1"><a class="header-anchor" href="#rendering-translated-messages" aria-hidden="true">#</a> Rendering Translated Messages</h2><p>Let\u2019s take a closer look at rendering messages.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Call the &quot;translate&quot; or &quot;t&quot; helper to render the</span>
  <span class="token comment">// message by specifying its ID and additional parameters:</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now you can <code>/start</code> your bot. It should render the following message:</p><div class="language-text ext-text"><pre class="language-text"><code>Hi there!
</code></pre></div><h3 id="placeables" tabindex="-1"><a class="header-anchor" href="#placeables" aria-hidden="true">#</a> Placeables</h3><p>Sometimes, you may want to place values such as numbers and names inside the strings. You can do this with placeables.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// You can pass placeables as the second object.</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;cart-msg&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> items<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The object <code>{ items:<wbr> 10 }</code> is called the <em>translation context</em> of the <code>cart<wbr>-msg</code> string.</p><p>Now, with the <code>/cart</code> command:</p><div class="language-text ext-text"><pre class="language-text"><code>You currently have 10 items in your cart.
</code></pre></div>`,12),Rn=s("Try to change the value of the "),An=n("code",null,"items",-1),Pn=s(" variable to see how the rendered message would change! Also, check out the Fluent documentation, especially the "),Un={href:"https://projectfluent.org/fluent/guide/placeables.html",target:"_blank",rel:"noopener noreferrer"},Jn=s("placeables documentation"),Vn=s("."),On=c(`<h3 id="global-placeables" tabindex="-1"><a class="header-anchor" href="#global-placeables" aria-hidden="true">#</a> Global Placeables</h3><p>It can be useful to specify a number of placeables that should be available to <em>all</em> translations. For example, if you reuse the name of the user in many messages, it can be tedious to pass the translation context <code>{ name:<wbr> ctx<wbr>.from<wbr>.first<wbr>_name }</code> everywhere.</p><p>Global placeables come to rescue! Consider this:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// Define globally available placeables:</span>
  <span class="token function">globalTranslationContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>first_name <span class="token operator">??</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Can use \`name\` without specifying it again!</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="adding-translations" tabindex="-1"><a class="header-anchor" href="#adding-translations" aria-hidden="true">#</a> Adding Translations</h2><p>There are three main methods to load translations.</p><h3 id="loading-locales-using-the-directory-option" tabindex="-1"><a class="header-anchor" href="#loading-locales-using-the-directory-option" aria-hidden="true">#</a> Loading Locales Using the <code>directory</code> Option</h3><p>The simplest way to add translations to the <code>I18n</code> instance is by having all of your translations in a directory and specifying the directory name in the options.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="loading-locales-from-a-directory" tabindex="-1"><a class="header-anchor" href="#loading-locales-from-a-directory" aria-hidden="true">#</a> Loading Locales From a Directory</h3><p>This method is the same thing as specifying <code>directory</code> in options. Just put them all in a folder and load them like this:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDir</span><span class="token punctuation">(</span><span class="token string">&quot;locales&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// async version</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDirSync</span><span class="token punctuation">(</span><span class="token string">&quot;locales-2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sync version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="loading-a-single-locale" tabindex="-1"><a class="header-anchor" href="#loading-a-single-locale" aria-hidden="true">#</a> Loading a Single Locale</h3><p>It is also possible to add a single translation to the instance. You can either specify the file path to the translation using</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/en.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// async version</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/de.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sync version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>or you can directly load the translation data as a string like this:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// async version</span>
<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">greeting = Hello { $name }!
language-set = Language has been set to English!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sync version</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">greeting = Hallo { $name }!
language-set = Die Sprache wurde zu Deutsch ge\xE4ndert!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="listening-for-localized-text" tabindex="-1"><a class="header-anchor" href="#listening-for-localized-text" aria-hidden="true">#</a> Listening for Localized Text</h2><p>We managed to send localized messages to the user. Now, let\u2019s take a look at how to listen for messages sent by the user. In grammY, we usually use the <code>bot<wbr>.hears</code> handler for listening to incoming messages. But since we\u2019ve been talking about internationalization, in this section we will see how to listen for localized incoming messages.</p>`,19),$n=s("This feature comes in handy when your bot has "),Kn=s("custom keyboards"),Qn=s(" containing localized text."),Xn=n("p",null,[s("Here is a short example of listening to a localized text message sent using a custom keyboard. Instead of using "),n("code",null,[s("bot"),n("wbr"),s(".hears")]),s(" handler, we use "),n("code",null,[s("bot"),n("wbr"),s(".filter")]),s(" combined with the "),n("code",null,"hears"),s(" middleware provided by this plugin.")],-1),Zn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ns=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"@grammyjs/i18n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ss=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" hears "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"https://deno.land/x/grammy_i18n@v1.0.1/mod.ts"'),n("span",{class:"token punctuation"},";"),s(`

bot`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"hears"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"back-to-menu-btn"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"await"),s(" ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reply"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"t"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"main-menu-msg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),as=n("p",null,[s("The "),n("code",null,"hears"),s(" helper function allows your bot to listen for a message that is written in the locale of the user.")],-1),ts=n("h2",{id:"further-steps",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#further-steps","aria-hidden":"true"},"#"),s(" Further Steps")],-1),es=s("Complete reading the "),os={href:"https://projectfluent.org/",target:"_blank",rel:"noopener noreferrer"},cs=s("Fluent documentation"),ls=s(", especially the "),is={href:"https://projectfluent.org/fluent/guide/",target:"_blank",rel:"noopener noreferrer"},ps=s("syntax guide"),us=s("."),rs=s("Check out proper "),ks={href:"https://github.com/grammyjs/i18n/tree/main/examples",target:"_blank",rel:"noopener noreferrer"},ds=s("examples"),ms=s(" of this plugin for Deno and Node.js."),hs=n("h2",{id:"plugin-summary",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#plugin-summary","aria-hidden":"true"},"#"),s(" Plugin Summary")],-1),gs=n("li",null,[s("Name: "),n("code",null,"i18n")],-1),bs=s("Source: "),vs={href:"https://github.com/grammyjs/i18n",target:"_blank",rel:"noopener noreferrer"},ys=s("https://"),fs=n("wbr",null,null,-1),ws=s("github"),_s=n("wbr",null,null,-1),xs=s(".com"),Is=n("wbr",null,null,-1),qs=s("/grammyjs"),Ls=n("wbr",null,null,-1),Ts=s("/i18n"),Ss=s("API Reference: "),Cs={href:"https://doc.deno.land/https://deno.land/x/grammy_i18n/mod.ts",target:"_blank",rel:"noopener noreferrer"},zs=c("https://<wbr>doc<wbr>.deno<wbr>.land<wbr>/https://<wbr>deno<wbr>.land<wbr>/x<wbr>/grammy<wbr>_i18n<wbr>/mod<wbr>.ts",23);function js(Fs,Bs){const u=l("Tag"),r=l("TagGroup"),i=l("RouterLink"),e=l("ExternalLinkIcon"),o=l("CodeGroupItem"),p=l("CodeGroup");return d(),m("div",null,[g,a(r,null,{default:t(()=>[a(u,{type:"official",desc:"This plugin is published and maintained by grammY"})]),_:1}),b,n("div",v,[y,n("p",null,[f,a(i,{to:"/plugins/fluent.html"},{default:t(()=>[w]),_:1}),_]),n("p",null,[x,a(i,{to:"/plugins/fluent.html"},{default:t(()=>[I]),_:1}),q])]),L,n("p",null,[T,n("a",S,[C,a(e)]),z]),n("p",null,[j,F,B,D,Y,N,H,n("a",M,[W,a(e)]),G]),E,n("p",null,[R,n("a",A,[P,a(e)]),U,n("a",J,[V,a(e)]),O]),$,n("p",null,[K,n("a",Q,[X,Z,nn,sn,an,tn,en,on,cn,a(e)])]),ln,n("p",null,[pn,a(i,{to:"/plugins/session.html"},{default:t(()=>[un]),_:1}),rn,kn,dn,mn,hn]),gn,a(p,null,{default:t(()=>[a(o,{title:"TypeScript",active:""},{default:t(()=>[bn]),_:1}),a(o,{title:"JavaScript"},{default:t(()=>[vn]),_:1}),a(o,{title:"Deno"},{default:t(()=>[yn]),_:1})]),_:1}),fn,wn,_n,n("p",null,[xn,In,qn,a(i,{to:"/plugins/session.html"},{default:t(()=>[Ln]),_:1}),Tn,Sn,Cn,zn,jn,Fn,Bn]),Dn,a(p,null,{default:t(()=>[a(o,{title:"TypeScript",active:""},{default:t(()=>[Yn]),_:1}),a(o,{title:"JavaScript"},{default:t(()=>[Nn]),_:1}),a(o,{title:"Deno"},{default:t(()=>[Hn]),_:1})]),_:1}),Mn,a(p,null,{default:t(()=>[a(o,{title:"TypeScript"},{default:t(()=>[Wn]),_:1}),a(o,{title:"JavaScript"},{default:t(()=>[Gn]),_:1})]),_:1}),En,n("p",null,[Rn,An,Pn,n("a",Un,[Jn,a(e)]),Vn]),On,n("p",null,[$n,a(i,{to:"/plugins/keyboard.html#custom-keyboards"},{default:t(()=>[Kn]),_:1}),Qn]),Xn,a(p,null,{default:t(()=>[a(o,{title:"TypeScript"},{default:t(()=>[Zn]),_:1}),a(o,{title:"JavaScript"},{default:t(()=>[ns]),_:1}),a(o,{title:"Deno"},{default:t(()=>[ss]),_:1})]),_:1}),as,ts,n("ul",null,[n("li",null,[es,n("a",os,[cs,a(e)]),ls,n("a",is,[ps,a(e)]),us]),n("li",null,[rs,n("a",ks,[ds,a(e)]),ms])]),hs,n("ul",null,[gs,n("li",null,[bs,n("a",vs,[ys,fs,ws,_s,xs,Is,qs,Ls,Ts,a(e)])]),n("li",null,[Ss,n("a",Cs,[zs,a(e)])])])])}const Ys=k(h,[["render",js],["__file","i18n.html.vue"]]);export{Ys as default};
